"use strict";$(document).on("readystatechange",function(){"interactive"===document.readyState&&$(window).width()<=500&&$(".header__log-link").text($(".header__log-link").data("mobile-text"))}),$(window).on("load",function(){function r(e,r){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:r,type:"POST",dataType:"html",data:$("."+e).serialize(),success:function(e){var r=$.parseJSON(e);console.log(r)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}$(".filter__container").on("input submit",function(e){e.preventDefault(),r("filter__container","test.php")}),$("#crumbs-one").on("input submit",function(e){e.preventDefault(),r("crumbs-one","test.php")}),$("#crumbs-two").on("input submit",function(e){e.preventDefault(),r("crumbs-two","test.php")}),$("#crumbs-three").on("input submit",function(e){e.preventDefault(),r("crumbs-three","test.php")}),$("#crumbs-four").on("input submit",function(e){e.preventDefault(),r("crumbs-four","test.php")}),$("#crumbs-five").on("input submit",function(e){e.preventDefault(),r("crumbs-five","test.php")}),$(".crumbs__crumb").on("click",function(e){$(e.target).parents(".crumbs__crumb").toggleClass("crumbs__crumb--active"),0===$(e.target).parents(".crumbs").children(".crumbs__crumb--active").length?$(e.target).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(e.target).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active")}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active")}),$("#menu-element-more").on("click",function(){$(".menu__desktop-more-list").slideToggle(400),$("#menu-element-more").toggleClass("menu__desktop-element--open")}),$(".filters__switch-text").on("click",function(){$(".filters__switch-text").parent().toggleClass("filters__switch--active"),$(".filters__switch-modal").slideToggle(400)}),$(".filters__switch-modal-label").on("click",function(e){$(e.target).hasClass("filters__switch-modal-label--custom")||($(".filters__switch-text").text($(e.target).text()),$(".filters__switch-modal").toggle(0),$(".filters__switch").toggleClass("filter-switch--active"))}),$(".filter__date-element").on("click",function(){$(".filter__date-element").removeClass("filter__date-element--active"),$(this).addClass("filter__date-element--active")}),$(".menu__burger").on("click",function(){$(".menu").toggleClass("menu--open")}),pageYOffset?$(".header").addClass("header--scroll"):$(".header").removeClass("header--scroll"),$(window).on("scroll",function(){pageYOffset?($(".header").addClass("header--scroll"),$(".menu__desktop").addClass("menu__desktop--scroll")):($(".header").removeClass("header--scroll"),$(".menu__desktop").removeClass("menu__desktop--scroll"))});new Swiper(".poster-slider__slider",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},on:{slideChange:function(e){var r=e.slides,s=e.activeIndex;r.each(function(e,r){r<s?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var r=e.$el;r.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),r.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var r=e.$el;r.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),r.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}}),new Swiper(".poster-slider__stories",{spaceBetween:10,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},breakpoints:{901:{spaceBetween:25},501:{spaceBetween:20}},on:{slideChange:function(e){var r=e.slides,s=e.activeIndex;r.each(function(e,r){r<s?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var r=e.$el;r.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),r.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var r=e.$el;r.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),r.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}});$(window).width()<=1299&&($(".menu__desktop-more-list").children(".menu__desktop-element").appendTo($(".menu__desktop")),$("#menu-element-more").addClass("delete"))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50Iiwib24iLCJyZWFkeVN0YXRlIiwid2luZG93Iiwid2lkdGgiLCJ0ZXh0IiwiZGF0YSIsImFqYXhSZXF1ZXN0IiwiYWpheEZvcm0iLCJ1cmwiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwieiIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwic2VyaWFsaXplIiwic3VjY2VzcyIsInJlc3BvbnNlIiwicmVzdWx0IiwicGFyc2VKU09OIiwiZXJyb3IiLCJhbGVydCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsInBhcmVudHMiLCJ0b2dnbGVDbGFzcyIsImNoaWxkcmVuIiwibGVuZ3RoIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRoaXMiLCJzbGlkZVRvZ2dsZSIsInBhcmVudCIsImhhc0NsYXNzIiwidG9nZ2xlIiwicGFnZVlPZmZzZXQiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3IiwiZ3JhYkN1cnNvciIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJzbGlkZUNoYW5nZSIsIl9yZWYiLCJzbGlkZXMiLCJhY3RpdmVJbmRleCIsImVhY2giLCJzbGlkZSIsImluZGV4IiwicmVhY2hFbmQiLCJfcmVmMiIsIiRlbCIsImZyb21FZGdlIiwiX3JlZjMiLCJicmVha3BvaW50cyIsIjkwMSIsIjUwMSIsIl9yZWY0IiwiX3JlZjUiLCJfcmVmNiIsImFwcGVuZFRvIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxFQUFFQyxVQUFVQyxHQUFHLG1CQUFvQixXQUNULGdCQUF4QkQsU0FBU0UsWUFBZ0NILEVBQUVJLFFBQVFDLFNBQVcsS0FBT0wsRUFBRSxxQkFBcUJNLEtBQUtOLEVBQUUscUJBQXFCTyxLQUFLLGtCQUUvSFAsRUFBRUksUUFBUUYsR0FBRyxPQUFRLFdBS25CLFNBQVNNLEVBQVlDLEVBQVVDLEdBQzdCLElBQ0VDLFFB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QixFQUFJMUIsU0FBUyx3QkFBd0JFLFlBQVksbUNBSXZEakMsRUFBRUksUUFBUUMsU0FBVyxPQUFTTCxFQUFFLDRCQUE0QitCLFNBQVMsMEJBQTBCbUMsU0FBU2xFLEVBQUUsbUJBQW9CQSxFQUFFLHNCQUFzQmtDLFNBQVMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4kKGRvY3VtZW50KS5vbihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIgJiYgJCh3aW5kb3cpLndpZHRoKCkgPD0gNTAwICYmICQoXCIuaGVhZGVyX19sb2ctbGlua1wiKS50ZXh0KCQoXCIuaGVhZGVyX19sb2ctbGlua1wiKS5kYXRhKFwibW9iaWxlLXRleHRcIikpO1xufSk7XG4kKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyaWFibGVzXG4gIC8vIC92YXJpYWJsZXNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB1bml2ZXJzYWwgZnVuY3Rpb25cbiAgZnVuY3Rpb24gYWpheFJlcXVlc3QoYWpheEZvcm0sIHVybCkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIik7XG4gICAgfSBjYXRjaCAoeikge1xuICAgICAgY29uc29sZS5sb2coeik7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICBkYXRhOiAkKFwiLlwiICsgYWpheEZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgLy8g0KHQtdCw0YDQuNC70LjQt9GD0LXQvCDQvtCx0YrQtdC60YJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgLy/QlNCw0L3QvdGL0LUg0L7RgtC/0YDQsNCy0LvQtdC90Ysg0YPRgdC/0LXRiNC90L5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3BvbnNlKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IocmVzcG9uc2UpIHtcbiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YtcbiAgICAgICAgYWxlcnQoXCLQntGI0LjQsdC60LAuINCU0LDQvdC90YvQtSDQvdC1INC+0YLQv9GA0LDQstC70LXQvdGLLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSAvLyAgL3VuaXZlcnNhbCBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGV2ZW50XG4gIC8vINCU0LDRgtGLINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbFxuXG5cbiAgJChcIi5maWx0ZXJfX2NvbnRhaW5lclwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImZpbHRlcl9fY29udGFpbmVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0JTQsNGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy1vbmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtb25lXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L7Qt9Cw0LtcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQotC10LDRgtGA0LDQu9GM0L3Ri9C5INC30LDQu1wiXG5cbiAgJChcIiNjcnVtYnMtdHdvXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLXR3b1wiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCi0LXQsNGC0YDQsNC70YzQvdGL0Lkg0LfQsNC7XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQvtC90YbQtdGA0YLQvdGL0Lkg0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy10aHJlZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy10aHJlZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0L7QvdGG0LXRgNGC0L3Ri9C5INC30LDQu1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCb0LjRgtC10YDQsNGC0YPRgNC90LDRjyDQs9C+0YHRgtC40L3QsNGPXCJcblxuICAkKFwiI2NydW1icy1mb3VyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLWZvdXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQm9C40YLQtdGA0LDRgtGD0YDQvdCw0Y8g0LPQvtGB0YLQuNC90LDRj1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCS0YvRgdGC0LDQstC60LBcIlxuXG4gICQoXCIjY3J1bWJzLWZpdmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtZml2ZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCS0YvRgdGC0LDQstC60LBcIlxuXG4gICQoXCIuY3J1bWJzX19jcnVtYlwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNfX2NydW1iXCIpLnRvZ2dsZUNsYXNzKFwiY3J1bWJzX19jcnVtYi0tYWN0aXZlXCIpO1xuICAgICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY3J1bWItLWFjdGl2ZVwiKS5sZW5ndGggPT09IDAgPyAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NsZWFyXCIpLnJlbW92ZUNsYXNzKFwiY3J1bWJzX19jbGVhci0tYWN0aXZlXCIpIDogJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jbGVhclwiKS5hZGRDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIuY3J1bWJzX19jbGVhclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY3J1bWJcIikucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NydW1iLS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIjbWVudS1lbGVtZW50LW1vcmVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5tZW51X19kZXNrdG9wLW1vcmUtbGlzdFwiKS5zbGlkZVRvZ2dsZSg0MDApO1xuICAgICQoXCIjbWVudS1lbGVtZW50LW1vcmVcIikudG9nZ2xlQ2xhc3MoXCJtZW51X19kZXNrdG9wLWVsZW1lbnQtLW9wZW5cIik7XG4gIH0pO1xuICAkKFwiLmZpbHRlcnNfX3N3aXRjaC10ZXh0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoXCIuZmlsdGVyc19fc3dpdGNoLXRleHRcIikucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJmaWx0ZXJzX19zd2l0Y2gtLWFjdGl2ZVwiKTtcbiAgICAkKFwiLmZpbHRlcnNfX3N3aXRjaC1tb2RhbFwiKS5zbGlkZVRvZ2dsZSg0MDApO1xuICB9KTtcbiAgJChcIi5maWx0ZXJzX19zd2l0Y2gtbW9kYWwtbGFiZWxcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghJChlLnRhcmdldCkuaGFzQ2xhc3MoXCJmaWx0ZXJzX19zd2l0Y2gtbW9kYWwtbGFiZWwtLWN1c3RvbVwiKSkge1xuICAgICAgJChcIi5maWx0ZXJzX19zd2l0Y2gtdGV4dFwiKS50ZXh0KCQoZS50YXJnZXQpLnRleHQoKSk7XG4gICAgICAkKFwiLmZpbHRlcnNfX3N3aXRjaC1tb2RhbFwiKS50b2dnbGUoMCk7XG4gICAgICAkKFwiLmZpbHRlcnNfX3N3aXRjaFwiKS50b2dnbGVDbGFzcyhcImZpbHRlci1zd2l0Y2gtLWFjdGl2ZVwiKTtcbiAgICB9XG4gIH0pO1xuICAkKFwiLmZpbHRlcl9fZGF0ZS1lbGVtZW50XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoXCIuZmlsdGVyX19kYXRlLWVsZW1lbnRcIikucmVtb3ZlQ2xhc3MoXCJmaWx0ZXJfX2RhdGUtZWxlbWVudC0tYWN0aXZlXCIpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJmaWx0ZXJfX2RhdGUtZWxlbWVudC0tYWN0aXZlXCIpO1xuICB9KTtcbiAgJChcIi5tZW51X19idXJnZXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5tZW51XCIpLnRvZ2dsZUNsYXNzKFwibWVudS0tb3BlblwiKTtcbiAgfSk7XG4gIHBhZ2VZT2Zmc2V0ID8gJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKSA6ICQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKFwiaGVhZGVyLS1zY3JvbGxcIik7XG4gICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgcGFnZVlPZmZzZXQgPyAoJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKSwgJChcIi5tZW51X19kZXNrdG9wXCIpLmFkZENsYXNzKFwibWVudV9fZGVza3RvcC0tc2Nyb2xsXCIpKSA6ICgkKFwiLmhlYWRlclwiKS5yZW1vdmVDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpLCAkKFwiLm1lbnVfX2Rlc2t0b3BcIikucmVtb3ZlQ2xhc3MoXCJtZW51X19kZXNrdG9wLS1zY3JvbGxcIikpO1xuICB9KTsgLy8gL2V2ZW50XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gdW5pcXVlIGZ1bmN0aW9uXG4gIC8vIC91bmlxdWUgZnVuY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBQYWdlIGxvYWRcblxuICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcihcIi5wb3N0ZXItc2xpZGVyX19zbGlkZXJcIiwge1xuICAgIHNwYWNlQmV0d2VlbjogMjAsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1yaWdodFwiLFxuICAgICAgcHJldkVsOiBcIiNmaXJzdC1zbGlkZXItYXJyb3ctbGVmdFwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKF9yZWYpIHtcbiAgICAgICAgdmFyIHNsaWRlcyA9IF9yZWYuc2xpZGVzLFxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBfcmVmLmFjdGl2ZUluZGV4O1xuICAgICAgICBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPCBhY3RpdmVJbmRleCA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVhY2hFbmQ6IGZ1bmN0aW9uIHJlYWNoRW5kKF9yZWYyKSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmMi4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKF9yZWYzKSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmMy4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdmFyIHN3aXBlclN0b3JpZXMgPSBuZXcgU3dpcGVyKFwiLnBvc3Rlci1zbGlkZXJfX3N0b3JpZXNcIiwge1xuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1yaWdodFwiLFxuICAgICAgcHJldkVsOiBcIiNmaXJzdC1zbGlkZXItYXJyb3ctbGVmdFwiXG4gICAgfSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgOTAxOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjVcbiAgICAgIH0sXG4gICAgICA1MDE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMFxuICAgICAgfVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShfcmVmNCkge1xuICAgICAgICB2YXIgc2xpZGVzID0gX3JlZjQuc2xpZGVzLFxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBfcmVmNC5hY3RpdmVJbmRleDtcbiAgICAgICAgc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlLCBpbmRleCkge1xuICAgICAgICAgIGluZGV4IDwgYWN0aXZlSW5kZXggPyAkKHNsaWRlKS5hZGRDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIikgOiAkKHNsaWRlKS5yZW1vdmVDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHJlYWNoRW5kOiBmdW5jdGlvbiByZWFjaEVuZChfcmVmNSkge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjUuJGVsO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fc2hhZG93XCIpLmFkZENsYXNzKFwicG9zdGVyLXNsaWRlcl9fc2hhZG93LS1oaWRkZW5cIik7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19kYXJrXCIpLmFkZENsYXNzKFwicG9zdGVyLXNsaWRlcl9fZGFyay0taGlkZGVuXCIpO1xuICAgICAgfSxcbiAgICAgIGZyb21FZGdlOiBmdW5jdGlvbiBmcm9tRWRnZShfcmVmNikge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjYuJGVsO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fc2hhZG93XCIpLnJlbW92ZUNsYXNzKFwicG9zdGVyLXNsaWRlcl9fc2hhZG93LS1oaWRkZW5cIik7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19kYXJrXCIpLnJlbW92ZUNsYXNzKFwicG9zdGVyLXNsaWRlcl9fZGFyay0taGlkZGVuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gICQod2luZG93KS53aWR0aCgpIDw9IDEyOTkgJiYgKCQoXCIubWVudV9fZGVza3RvcC1tb3JlLWxpc3RcIikuY2hpbGRyZW4oXCIubWVudV9fZGVza3RvcC1lbGVtZW50XCIpLmFwcGVuZFRvKCQoXCIubWVudV9fZGVza3RvcFwiKSksICQoXCIjbWVudS1lbGVtZW50LW1vcmVcIikuYWRkQ2xhc3MoXCJkZWxldGVcIikpOyAvLyAvUGFnZSBsb2FkXG59KTsiXX0=
