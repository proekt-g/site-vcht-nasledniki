"use strict";$(document).on("readystatechange",function(){"interactive"===document.readyState&&$(window).width()<=500&&$(".header__log-link").text($(".header__log-link").data("mobile-text"))}),$(window).on("load",function(){function t(e,t){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:t,type:"POST",dataType:"html",data:$("."+e).serialize(),success:function(e){var t=$.parseJSON(e);console.log(t)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}function s(){var e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block")}function r(e){var t=e.slides,s=e.activeIndex,r=(e.prevSlides,$(t[s]).children(".modal__slide-video")),a=$(t[s-1]).children(".modal__slide-video"),i=$(t[s+1]).children(".modal__slide-video");a.length&&a.attr("src",a.attr("src").replace(/\?autoplay=1/gi,"")),i.length&&i.attr("src",i.attr("src").replace(/\?autoplay=1/gi,"")),r.length&&r.attr("src",r.attr("src").replace(/\?autoplay=1/gi,"")+"?autoplay=1")}function a(){s(),$(".modal__slide-video").attr("src",$(".modal__slide-video").attr("src").replace(/\?autoplay=1/gi,"")),$(".modal-overlay").removeClass("modal-overlay--active"),$(".modal").removeClass("modal--active")}$("#participants-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#poster-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#crumbs-one").on("input submit",function(e){e.preventDefault(),t("crumbs-one","test.php")}),$("#crumbs-two").on("input submit",function(e){e.preventDefault(),t("crumbs-two","test.php")}),$("#crumbs-three").on("input submit",function(e){e.preventDefault(),t("crumbs-three","test.php")}),$("#crumbs-four").on("input submit",function(e){e.preventDefault(),t("crumbs-four","test.php")}),$("#crumbs-five").on("input submit",function(e){e.preventDefault(),t("crumbs-five","test.php")}),$(".crumbs__crumb").on("click",function(e){$(e.target).parents(".crumbs__crumb").toggleClass("crumbs__crumb--active"),0===$(e.target).parents(".crumbs").children(".crumbs__crumb--active").length?$(e.target).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(e.target).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active")}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active")}),$("#menu-element-more").on("click",function(){$(".menu__desktop-more-list").slideToggle(400),$("#menu-element-more").toggleClass("menu__desktop-element--open")}),$(".filters__switch-text").on("click",function(){$(this).parent().toggleClass("filters__switch--active"),$(this).next().slideToggle(400)}),$(".filters__switch-modal-label").on("click",function(e){$(e.target).hasClass("filters__switch-modal-label--custom")||($(this).parents(".filters__switch").children(".filters__switch-text").text($(e.target).text()),$(this).parents(".filters__switch-modal").toggle(0),$(this).parents(".filters__switch").toggleClass("filters__switch--active"))}),$(".filter__date-element").on("click",function(){$(".filter__date-element").removeClass("filter__date-element--active"),$(this).addClass("filter__date-element--active")}),$(".menu__burger").on("click",function(){$(".menu").toggleClass("menu--open")}),pageYOffset?$(".header").addClass("header--scroll"):$(".header").removeClass("header--scroll"),$(window).on("scroll",function(){pageYOffset?($(".header").addClass("header--scroll"),$(".menu__desktop").addClass("menu__desktop--scroll")):($(".header").removeClass("header--scroll"),$(".menu__desktop").removeClass("menu__desktop--scroll"))}),$(".poster-slider__stories").on("click",function(e){var t=$(e.target).parents(".stories");(t.length||$(e.target).hasClass("stories"))&&function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;s(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".modal").toggleClass("modal--active");new Swiper(".modal__content",{effect:"coverflow",grabCursor:!0,spaceBetween:30,slidesPerView:"auto",initialSlide:e,navigation:{nextEl:".stories-arrow-right",prevEl:".stories-arrow-left"},on:{slideChange:function(e){r(e)},init:function(e){r(e)}}})}(t.index())}),$(".modal__close").on("click",a),$(".modal-overlay").on("click",function(e){$(e.target).hasClass("modal-overlay--active")&&a()}),$(".user__button").on("click",function(){if($(".user__about-text--active").length)$(".user__about-text").toggleClass("user__about-text--active"),$(".user__about-text").css("height",$(".user__about-text").data("text-height")),$(".user__button").text($(".user__button").data("switch-text-end"));else{$(".user__about-text").toggleClass("user__about-text--active");var e=$(".user__about-text"),t=e.height(),s=e.css("height","auto").height();e.height(t).animate({height:s},200),$(".user__button").text($(".user__button").data("switch-text-start"))}});new Swiper(".poster-slider__slider",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},on:{slideChange:function(e){var t=e.slides,s=e.activeIndex;t.each(function(e,t){t<s?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}}),new Swiper(".poster-slider__stories",{spaceBetween:10,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},breakpoints:{901:{spaceBetween:25},501:{spaceBetween:20}},on:{slideChange:function(e){var t=e.slides,s=e.activeIndex;t.each(function(e,t){t<s?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}});$(window).width()<=1299&&($(".menu__desktop-more-list").children(".menu__desktop-element").appendTo($(".menu__desktop")),$("#menu-element-more").addClass("delete")),baguetteBox.run(".gallery")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50Iiwib24iLCJyZWFkeVN0YXRlIiwid2luZG93Iiwid2lkdGgiLCJ0ZXh0IiwiZGF0YSIsImFqYXhSZXF1ZXN0IiwiYWpheEZvcm0iLCJ1cmwiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwieiIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwic2VyaWFsaXplIiwic3VjY2VzcyIsInJlc3BvbnNlIiwicmVzdWx0IiwicGFyc2VKU09OIiwiZXJyb3IiLCJhbGVydCIsInNjcm9sbEVtdWxhdGlvbiIsImRvY3VtZW50V2lkdGgiLCJwYXJzZUludCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2Nyb2xsYmFyV2lkdGgiLCJpbm5lcldpZHRoIiwiY3NzIiwicGFkZGluZy1yaWdodCIsImNvbmNhdCIsInRvZ2dsZUNsYXNzIiwicGxheVZpZGVvU3RvcmllcyIsIl9yZWYiLCJzbGlkZXMiLCJhY3RpdmVJbmRleCIsInZpZGVvU3RvcmllcyIsInByZXZTbGlkZXMiLCJjaGlsZHJlbiIsInByZXZWaWRlb1N0b3JpZXMiLCJuZXh0VmlkZW9TdG9yaWVzIiwibGVuZ3RoIiwiYXR0ciIsInJlcGxhY2UiLCJjbG9zZU1vZGFsIiwicmVtb3ZlQ2xhc3MiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJwYXJlbnRzIiwiYWRkQ2xhc3MiLCJ0aGlzIiwic2xpZGVUb2dnbGUiLCJwYXJlbnQiLCJuZXh0IiwiaGFzQ2xhc3MiLCJ0b2dnbGUiLCJwYWdlWU9mZnNldCIsInN0b3JpZXMiLCJpbml0TnVtYmVyU2xpZGVyIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiU3dpcGVyIiwiZWZmZWN0IiwiZ3JhYkN1cnNvciIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJpbml0aWFsU2xpZGUiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwic2xpZGVDaGFuZ2UiLCJzd2lwZXIiLCJpbml0IiwidG9nZ2xlTW9kYWwiLCJpbmRleCIsImVsIiwiY3VySGVpZ2h0IiwiaGVpZ2h0IiwiYXV0b0hlaWdodCIsImFuaW1hdGUiLCJfcmVmMiIsImVhY2giLCJzbGlkZSIsInJlYWNoRW5kIiwiX3JlZjMiLCIkZWwiLCJmcm9tRWRnZSIsIl9yZWY0IiwiYnJlYWtwb2ludHMiLCI5MDEiLCI1MDEiLCJfcmVmNSIsIl9yZWY2IiwiX3JlZjciLCJhcHBlbmRUbyIsImJhZ3VldHRlQm94IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxFQUFFQyxVQUFVQyxHQUFHLG1CQUFvQixXQUNULGdCQUF4QkQsU0FBU0UsWUFBZ0NILEVBQUVJLFFBQVFDLFNBQVcsS0FBT0wsRUFBRSxxQkFBcUJNLEtBQUtOLEVBQUUscUJBQXFCTyxLQUFLLGtCQUUvSFAsRUFBRUksUUFBUUYsR0FBRyxPQUFRLFdBS25CLFNBQVNNLEVBQVlDLEVBQVVDLEdBQzdCLElBQ0VDLFFBQVFDLGFBQWEsS0FBTSxLQUFNLEtBQ2pDLE1BQU9DLEdBQ1BDLFFBQVFDLElBQUlGLEdBR2RiLEVBQUVnQixLQUFLLENBQ0xOLElBQUtBLEVBQ0xPLEtBQU0sT0FDTkMsU0FBVSxPQUNWWCxLQUFNUCxFQUFFLElBQU1TLEdBQVVVLFlBRXhCQyxRQUFTLFNBQWlCQyxHQUV4QixJQUFJQyxFQUFTdEIsRUFBRXVCLFVBQVVGLEdBQ3pCUCxRQUFRQyxJQUFJTyxJQUVkRSxNQUFPLFNBQWVILEdBRXBCSSxNQUFNLG9DQUtaLFNBQVNDLElBQ1AsSUFBSUMsRUFBZ0JDLFNBQVMzQixTQUFTNEIsZ0JBQWdCQyxhQUVsREMsRUFEZUgsU0FBU3hCLE9BQU80QixZQUNDTCxFQUNwQzNCLEVBQUUsUUFBUWlDLElBQUksQ0FDWkMsZ0JBQWlCLEdBQUdDLE9BQU9KLEVBQWdCLFFBRTdDL0IsRUFBRSxRQUFRb0MsWUFBWSxTQXVJeEIsU0FBU0MsRUFBaUJDLEdBQ3hCLElBQUlDLEVBQVNELEVBQUtDLE9BQ2RDLEVBQWNGLEVBQUtF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YyxHQUNkQyxjQUFlLE9BQ2ZGLFlBQVksRUFDWkksV0FBWSxDQUNWQyxPQUFRLDRCQUNSQyxPQUFRLDRCQUVWbUIsWUFBYSxDQUNYQyxJQUFLLENBQ0h6QixhQUFjLElBRWhCMEIsSUFBSyxDQUNIMUIsYUFBYyxLQUdsQnBFLEdBQUksQ0FDRjBFLFlBQWEsU0FBcUJxQixHQUNoQyxJQUFJMUQsRUFBUzBELEVBQU0xRCxPQUNmQyxFQUFjeUQsRUFBTXpELFlBQ3hCRCxFQUFPZ0QsS0FBSyxTQUFVQyxFQUFPUixHQUMzQkEsRUFBUXhDLEVBQWN4QyxFQUFFd0YsR0FBT2pDLFNBQVMsMEJBQTRCdkQsRUFBRXdGLEdBQU90QyxZQUFZLDZCQUc3RnVDLFNBQVUsU0FBa0JTLEdBQzFCLElBQUlQLEVBQU1PLEVBQU1QLElBQ2hCQSxFQUFJaEQsU0FBUywwQkFBMEJZLFNBQVMsaUNBQ2hEb0MsRUFBSWhELFNBQVMsd0JBQXdCWSxTQUFTLGdDQUVoRHFDLFNBQVUsU0FBa0JPLEdBQzFCLElBQUlSLEVBQU1RLEVBQU1SLElBQ2hCQSxFQUFJaEQsU0FBUywwQkFBMEJPLFlBQVksaUNBQ25EeUMsRUFBSWhELFNBQVMsd0JBQXdCTyxZQUFZLG1DQUl2RGxELEVBQUVJLFFBQVFDLFNBQVcsT0FBU0wsRUFBRSw0QkFBNEIyQyxTQUFTLDBCQUEwQnlELFNBQVNwRyxFQUFFLG1CQUFvQkEsRUFBRSxzQkFBc0J1RCxTQUFTLFdBQy9KOEMsWUFBWUMsSUFBSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbiQoZG9jdW1lbnQpLm9uKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIiAmJiAkKHdpbmRvdykud2lkdGgoKSA8PSA1MDAgJiYgJChcIi5oZWFkZXJfX2xvZy1saW5rXCIpLnRleHQoJChcIi5oZWFkZXJfX2xvZy1saW5rXCIpLmRhdGEoXCJtb2JpbGUtdGV4dFwiKSk7XG59KTtcbiQod2luZG93KS5vbihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAvLyB2YXJpYWJsZXNcbiAgLy8gL3ZhcmlhYmxlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXZlcnNhbCBmdW5jdGlvblxuICBmdW5jdGlvbiBhamF4UmVxdWVzdChhamF4Rm9ybSwgdXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIFwiI1wiKTtcbiAgICB9IGNhdGNoICh6KSB7XG4gICAgICBjb25zb2xlLmxvZyh6KTtcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB1cmwsXG4gICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgIGRhdGE6ICQoXCIuXCIgKyBhamF4Rm9ybSkuc2VyaWFsaXplKCksXG4gICAgICAvLyDQodC10LDRgNC40LvQuNC30YPQtdC8INC+0LHRitC10LrRglxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAvL9CU0LDQvdC90YvQtSDQvtGC0L/RgNCw0LLQu9C10L3RiyDRg9GB0L/QtdGI0L3QvlxuICAgICAgICB2YXIgcmVzdWx0ID0gJC5wYXJzZUpTT04ocmVzcG9uc2UpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihyZXNwb25zZSkge1xuICAgICAgICAvLyDQlNCw0L3QvdGL0LUg0L3QtSDQvtGC0L/RgNCw0LLQu9C10L3Ri1xuICAgICAgICBhbGVydChcItCe0YjQuNCx0LrQsC4g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YsuXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Nyb2xsRW11bGF0aW9uKCkge1xuICAgIHZhciBkb2N1bWVudFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKTtcbiAgICB2YXIgd2luZG93c1dpZHRoID0gcGFyc2VJbnQod2luZG93LmlubmVyV2lkdGgpO1xuICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHdpbmRvd3NXaWR0aCAtIGRvY3VtZW50V2lkdGg7XG4gICAgJChcImJvZHlcIikuY3NzKHtcbiAgICAgIFwicGFkZGluZy1yaWdodFwiOiBcIlwiLmNvbmNhdChzY3JvbGxiYXJXaWR0aCwgXCJweFwiKVxuICAgIH0pO1xuICAgICQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwiYmxvY2tcIik7XG4gIH0gLy8gIC91bml2ZXJzYWwgZnVuY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBldmVudFxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBhcnRpY2lwYW50cy5odG1sXG5cblxuICAkKFwiI3BhcnRpY2lwYW50cy1maWx0ZXJcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJmaWx0ZXJfX2NvbnRhaW5lclwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcGFydGljaXBhbnRzLmh0bWxcbiAgLy8g0JTQsNGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sXG5cbiAgJChcIiNwb3N0ZXItZmlsdGVyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiZmlsdGVyX19jb250YWluZXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QlNCw0YLRiyDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWxcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L7Qt9Cw0LtcIlxuXG4gICQoXCIjY3J1bWJzLW9uZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy1vbmVcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQmtC40L3QvtC30LDQu1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCi0LXQsNGC0YDQsNC70YzQvdGL0Lkg0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy10d29cIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtdHdvXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0KLQtdCw0YLRgNCw0LvRjNC90YvQuSDQt9Cw0LtcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQmtC+0L3RhtC10YDRgtC90YvQuSDQt9Cw0LtcIlxuXG4gICQoXCIjY3J1bWJzLXRocmVlXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLXRocmVlXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQvtC90YbQtdGA0YLQvdGL0Lkg0LfQsNC7XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JvQuNGC0LXRgNCw0YLRg9GA0L3QsNGPINCz0L7RgdGC0LjQvdCw0Y9cIlxuXG4gICQoXCIjY3J1bWJzLWZvdXJcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtZm91clwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCb0LjRgtC10YDQsNGC0YPRgNC90LDRjyDQs9C+0YHRgtC40L3QsNGPXCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JLRi9GB0YLQsNCy0LrQsFwiXG5cbiAgJChcIiNjcnVtYnMtZml2ZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy1maXZlXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JLRi9GB0YLQsNCy0LrQsFwiXG5cbiAgJChcIi5jcnVtYnNfX2NydW1iXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic19fY3J1bWJcIikudG9nZ2xlQ2xhc3MoXCJjcnVtYnNfX2NydW1iLS1hY3RpdmVcIik7XG4gICAgJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jcnVtYi0tYWN0aXZlXCIpLmxlbmd0aCA9PT0gMCA/ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY2xlYXJcIikucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIikgOiAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NsZWFyXCIpLmFkZENsYXNzKFwiY3J1bWJzX19jbGVhci0tYWN0aXZlXCIpO1xuICB9KTtcbiAgJChcIi5jcnVtYnNfX2NsZWFyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jcnVtYlwiKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY3J1bWItLWFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiY3J1bWJzX19jbGVhci0tYWN0aXZlXCIpO1xuICB9KTtcbiAgJChcIiNtZW51LWVsZW1lbnQtbW9yZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLm1lbnVfX2Rlc2t0b3AtbW9yZS1saXN0XCIpLnNsaWRlVG9nZ2xlKDQwMCk7XG4gICAgJChcIiNtZW51LWVsZW1lbnQtbW9yZVwiKS50b2dnbGVDbGFzcyhcIm1lbnVfX2Rlc2t0b3AtZWxlbWVudC0tb3BlblwiKTtcbiAgfSk7XG4gICQoXCIuZmlsdGVyc19fc3dpdGNoLXRleHRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcyhcImZpbHRlcnNfX3N3aXRjaC0tYWN0aXZlXCIpO1xuICAgICQodGhpcykubmV4dCgpLnNsaWRlVG9nZ2xlKDQwMCk7XG4gIH0pO1xuICAkKFwiLmZpbHRlcnNfX3N3aXRjaC1tb2RhbC1sYWJlbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEkKGUudGFyZ2V0KS5oYXNDbGFzcyhcImZpbHRlcnNfX3N3aXRjaC1tb2RhbC1sYWJlbC0tY3VzdG9tXCIpKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudHMoXCIuZmlsdGVyc19fc3dpdGNoXCIpLmNoaWxkcmVuKFwiLmZpbHRlcnNfX3N3aXRjaC10ZXh0XCIpLnRleHQoJChlLnRhcmdldCkudGV4dCgpKTtcbiAgICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJzX19zd2l0Y2gtbW9kYWxcIikudG9nZ2xlKDApO1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKFwiLmZpbHRlcnNfX3N3aXRjaFwiKS50b2dnbGVDbGFzcyhcImZpbHRlcnNfX3N3aXRjaC0tYWN0aXZlXCIpO1xuICAgIH1cbiAgfSk7XG4gICQoXCIuZmlsdGVyX19kYXRlLWVsZW1lbnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5maWx0ZXJfX2RhdGUtZWxlbWVudFwiKS5yZW1vdmVDbGFzcyhcImZpbHRlcl9fZGF0ZS1lbGVtZW50LS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcImZpbHRlcl9fZGF0ZS1lbGVtZW50LS1hY3RpdmVcIik7XG4gIH0pO1xuICAkKFwiLm1lbnVfX2J1cmdlclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLm1lbnVcIikudG9nZ2xlQ2xhc3MoXCJtZW51LS1vcGVuXCIpO1xuICB9KTtcbiAgcGFnZVlPZmZzZXQgPyAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpIDogJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKTtcbiAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBwYWdlWU9mZnNldCA/ICgkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpLCAkKFwiLm1lbnVfX2Rlc2t0b3BcIikuYWRkQ2xhc3MoXCJtZW51X19kZXNrdG9wLS1zY3JvbGxcIikpIDogKCQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKFwiaGVhZGVyLS1zY3JvbGxcIiksICQoXCIubWVudV9fZGVza3RvcFwiKS5yZW1vdmVDbGFzcyhcIm1lbnVfX2Rlc2t0b3AtLXNjcm9sbFwiKSk7XG4gIH0pO1xuICAkKFwiLnBvc3Rlci1zbGlkZXJfX3N0b3JpZXNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzdG9yaWVzID0gJChlLnRhcmdldCkucGFyZW50cyhcIi5zdG9yaWVzXCIpO1xuICAgIChzdG9yaWVzLmxlbmd0aCB8fCAkKGUudGFyZ2V0KS5oYXNDbGFzcyhcInN0b3JpZXNcIikpICYmIHRvZ2dsZU1vZGFsKHN0b3JpZXMuaW5kZXgoKSk7XG4gIH0pO1xuICAkKFwiLm1vZGFsX19jbG9zZVwiKS5vbihcImNsaWNrXCIsIGNsb3NlTW9kYWwpO1xuICAkKFwiLm1vZGFsLW92ZXJsYXlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcyhcIm1vZGFsLW92ZXJsYXktLWFjdGl2ZVwiKSkgY2xvc2VNb2RhbCgpO1xuICB9KTtcbiAgJCgnLnVzZXJfX2J1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISQoJy51c2VyX19hYm91dC10ZXh0LS1hY3RpdmUnKS5sZW5ndGgpIHtcbiAgICAgICQoJy51c2VyX19hYm91dC10ZXh0JykudG9nZ2xlQ2xhc3MoJ3VzZXJfX2Fib3V0LXRleHQtLWFjdGl2ZScpO1xuICAgICAgdmFyIGVsID0gJCgnLnVzZXJfX2Fib3V0LXRleHQnKSxcbiAgICAgICAgICBjdXJIZWlnaHQgPSBlbC5oZWlnaHQoKSxcbiAgICAgICAgICBhdXRvSGVpZ2h0ID0gZWwuY3NzKCdoZWlnaHQnLCAnYXV0bycpLmhlaWdodCgpO1xuICAgICAgZWwuaGVpZ2h0KGN1ckhlaWdodCkuYW5pbWF0ZSh7XG4gICAgICAgIGhlaWdodDogYXV0b0hlaWdodFxuICAgICAgfSwgMjAwKTtcbiAgICAgICQoJy51c2VyX19idXR0b24nKS50ZXh0KCQoJy51c2VyX19idXR0b24nKS5kYXRhKCdzd2l0Y2gtdGV4dC1zdGFydCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLnVzZXJfX2Fib3V0LXRleHQnKS50b2dnbGVDbGFzcygndXNlcl9fYWJvdXQtdGV4dC0tYWN0aXZlJyk7XG4gICAgICAkKCcudXNlcl9fYWJvdXQtdGV4dCcpLmNzcygnaGVpZ2h0JywgJCgnLnVzZXJfX2Fib3V0LXRleHQnKS5kYXRhKCd0ZXh0LWhlaWdodCcpKTtcbiAgICAgICQoJy51c2VyX19idXR0b24nKS50ZXh0KCQoJy51c2VyX19idXR0b24nKS5kYXRhKCdzd2l0Y2gtdGV4dC1lbmQnKSk7XG4gICAgfVxuICB9KTsgLy8gL2V2ZW50XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gdW5pcXVlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gdG9nZ2xlTW9kYWwoKSB7XG4gICAgdmFyIGluaXROdW1iZXJTbGlkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJChcIi5tb2RhbC1vdmVybGF5XCIpLnRvZ2dsZUNsYXNzKFwibW9kYWwtb3ZlcmxheS0tYWN0aXZlXCIpO1xuICAgICQoXCIubW9kYWxcIikudG9nZ2xlQ2xhc3MoXCJtb2RhbC0tYWN0aXZlXCIpO1xuICAgIHZhciBzd2lwZXJHYWxsZXJ5ID0gbmV3IFN3aXBlcihcIi5tb2RhbF9fY29udGVudFwiLCB7XG4gICAgICBlZmZlY3Q6IFwiY292ZXJmbG93XCIsXG4gICAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgICAgaW5pdGlhbFNsaWRlOiBpbml0TnVtYmVyU2xpZGVyLFxuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6IFwiLnN0b3JpZXMtYXJyb3ctcmlnaHRcIixcbiAgICAgICAgcHJldkVsOiBcIi5zdG9yaWVzLWFycm93LWxlZnRcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgICAgICBwbGF5VmlkZW9TdG9yaWVzKHN3aXBlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgICAgcGxheVZpZGVvU3Rvcmllcyhzd2lwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5VmlkZW9TdG9yaWVzKF9yZWYpIHtcbiAgICB2YXIgc2xpZGVzID0gX3JlZi5zbGlkZXMsXG4gICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleCxcbiAgICAgICAgcHJldlNsaWRlcyA9IF9yZWYucHJldlNsaWRlcztcbiAgICB2YXIgdmlkZW9TdG9yaWVzID0gJChzbGlkZXNbYWN0aXZlSW5kZXhdKS5jaGlsZHJlbihcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIiksXG4gICAgICAgIHByZXZWaWRlb1N0b3JpZXMgPSAkKHNsaWRlc1thY3RpdmVJbmRleCAtIDFdKS5jaGlsZHJlbihcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIiksXG4gICAgICAgIG5leHRWaWRlb1N0b3JpZXMgPSAkKHNsaWRlc1thY3RpdmVJbmRleCArIDFdKS5jaGlsZHJlbihcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIik7XG4gICAgcHJldlZpZGVvU3Rvcmllcy5sZW5ndGggJiYgcHJldlZpZGVvU3Rvcmllcy5hdHRyKFwic3JjXCIsIHByZXZWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSk7XG4gICAgbmV4dFZpZGVvU3Rvcmllcy5sZW5ndGggJiYgbmV4dFZpZGVvU3Rvcmllcy5hdHRyKFwic3JjXCIsIG5leHRWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSk7XG4gICAgdmlkZW9TdG9yaWVzLmxlbmd0aCAmJiB2aWRlb1N0b3JpZXMuYXR0cihcInNyY1wiLCB2aWRlb1N0b3JpZXMuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSArIFwiP2F1dG9wbGF5PTFcIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLmF0dHIoXCJzcmNcIiwgJChcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIikuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSk7XG4gICAgJChcIi5tb2RhbC1vdmVybGF5XCIpLnJlbW92ZUNsYXNzKFwibW9kYWwtb3ZlcmxheS0tYWN0aXZlXCIpO1xuICAgICQoXCIubW9kYWxcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbC0tYWN0aXZlXCIpO1xuICB9IC8vIC91bmlxdWUgZnVuY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBQYWdlIGxvYWRcblxuXG4gIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnBvc3Rlci1zbGlkZXJfX3NsaWRlclwiLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIjZmlyc3Qtc2xpZGVyLWFycm93LXJpZ2h0XCIsXG4gICAgICBwcmV2RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1sZWZ0XCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2UoX3JlZjIpIHtcbiAgICAgICAgdmFyIHNsaWRlcyA9IF9yZWYyLnNsaWRlcyxcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZjIuYWN0aXZlSW5kZXg7XG4gICAgICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgICBpbmRleCA8IGFjdGl2ZUluZGV4ID8gJChzbGlkZSkuYWRkQ2xhc3MoXCJzd2lwZXItc2xpZGUtcHJldi1wcmV2XCIpIDogJChzbGlkZSkucmVtb3ZlQ2xhc3MoXCJzd2lwZXItc2xpZGUtcHJldi1wcmV2XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZWFjaEVuZDogZnVuY3Rpb24gcmVhY2hFbmQoX3JlZjMpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWYzLiRlbDtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX3NoYWRvd1wiKS5hZGRDbGFzcyhcInBvc3Rlci1zbGlkZXJfX3NoYWRvdy0taGlkZGVuXCIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fZGFya1wiKS5hZGRDbGFzcyhcInBvc3Rlci1zbGlkZXJfX2RhcmstLWhpZGRlblwiKTtcbiAgICAgIH0sXG4gICAgICBmcm9tRWRnZTogZnVuY3Rpb24gZnJvbUVkZ2UoX3JlZjQpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWY0LiRlbDtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX3NoYWRvd1wiKS5yZW1vdmVDbGFzcyhcInBvc3Rlci1zbGlkZXJfX3NoYWRvdy0taGlkZGVuXCIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fZGFya1wiKS5yZW1vdmVDbGFzcyhcInBvc3Rlci1zbGlkZXJfX2RhcmstLWhpZGRlblwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB2YXIgc3dpcGVyU3RvcmllcyA9IG5ldyBTd2lwZXIoXCIucG9zdGVyLXNsaWRlcl9fc3Rvcmllc1wiLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIjZmlyc3Qtc2xpZGVyLWFycm93LXJpZ2h0XCIsXG4gICAgICBwcmV2RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1sZWZ0XCJcbiAgICB9LFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA5MDE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyNVxuICAgICAgfSxcbiAgICAgIDUwMToge1xuICAgICAgICBzcGFjZUJldHdlZW46IDIwXG4gICAgICB9XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKF9yZWY1KSB7XG4gICAgICAgIHZhciBzbGlkZXMgPSBfcmVmNS5zbGlkZXMsXG4gICAgICAgICAgICBhY3RpdmVJbmRleCA9IF9yZWY1LmFjdGl2ZUluZGV4O1xuICAgICAgICBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPCBhY3RpdmVJbmRleCA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVhY2hFbmQ6IGZ1bmN0aW9uIHJlYWNoRW5kKF9yZWY2KSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmNi4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKF9yZWY3KSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmNy4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgJCh3aW5kb3cpLndpZHRoKCkgPD0gMTI5OSAmJiAoJChcIi5tZW51X19kZXNrdG9wLW1vcmUtbGlzdFwiKS5jaGlsZHJlbihcIi5tZW51X19kZXNrdG9wLWVsZW1lbnRcIikuYXBwZW5kVG8oJChcIi5tZW51X19kZXNrdG9wXCIpKSwgJChcIiNtZW51LWVsZW1lbnQtbW9yZVwiKS5hZGRDbGFzcyhcImRlbGV0ZVwiKSk7XG4gIGJhZ3VldHRlQm94LnJ1bihcIi5nYWxsZXJ5XCIpOyAvLyAvUGFnZSBsb2FkXG59KTsiXX0=
