"use strict";$(document).on("readystatechange",function(){"interactive"===document.readyState&&$(window).width()<=500&&$(".header__log-link").text($(".header__log-link").data("mobile-text")),"interactive"===document.readyState&&$(window).width()<=700&&$(".user__about, .user__grid, .hidden-text, .hidden-button").appendTo($(".board__information"))}),$(window).on("load",function(){function t(e,t){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:t,type:"POST",dataType:"html",data:$("."+e).serialize(),success:function(e){var t=$.parseJSON(e);console.log(t)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}function a(){var e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block")}function e(e,t){$(".board__header-title").removeClass("board__header-title--active"),$(this).addClass("board__header-title--active"),$(e.join(", ")).fadeOut(400),setTimeout(function(){$(t).fadeIn(400)},400)}function r(){var a=[];$(".content").fadeOut(100),$(".crumbs__crumb--active").each(function(e,r){$(".content").each(function(e,t){$(t).data("name")===$(r).data("tag-name")&&a.push(t)})}),console.log(a),$(a).length?$(a).fadeIn(100):$(".content").fadeIn(100)}function i(e){var t=e.slides,r=e.activeIndex,a=(e.prevSlides,$(t[r]).children(".modal__slide-video")),i=$(t[r-1]).children(".modal__slide-video"),n=$(t[r+1]).children(".modal__slide-video");i.length&&i.attr("src",i.attr("src").replace(/\?autoplay=1/gi,"")),n.length&&n.attr("src",n.attr("src").replace(/\?autoplay=1/gi,"")),a.length&&a.attr("src",a.attr("src").replace(/\?autoplay=1/gi,"")+"?autoplay=1")}function n(){a(),$(".modal__slide-video").attr("src",$(".modal__slide-video").attr("src").replace(/\?autoplay=1/gi,"")),$(".modal-overlay").removeClass("modal-overlay--active"),$(".modal").removeClass("modal--active")}$("#participants-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#cinema-hall-filter").on("input submit",function(e){e.preventDefault(),t("cinema-hall-filter","test.php")}),$("#literary-room-filter").on("input submit",function(e){e.preventDefault(),t("literary-room-filter","test.php")}),$("#poster-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#crumbs-one").on("input submit",function(e){e.preventDefault(),t("crumbs-one","test.php")}),$("#crumbs-two").on("input submit",function(e){e.preventDefault(),t("crumbs-two","test.php")}),$("#crumbs-three").on("input submit",function(e){e.preventDefault(),t("crumbs-three","test.php")}),$("#crumbs-four").on("input submit",function(e){e.preventDefault(),t("crumbs-four","test.php")}),$("#crumbs-five").on("input submit",function(e){e.preventDefault(),t("crumbs-five","test.php")}),$("#cinema-crumbs-one").on("input submit",function(e){e.preventDefault(),t("cinema-crumbs-one","test.php")}),$("#cinema-crumbs-two").on("input submit",function(e){e.preventDefault(),t("cinema-crumbs-two","test.php")}),$("#literary-crumbs-one").on("input submit",function(e){e.preventDefault(),t("literary-crumbs-one","test.php")}),$("#literary-crumbs-two").on("input submit",function(e){e.preventDefault(),t("literary-crumbs-two","test.php")}),$(".crumbs__crumb").on("click",function(e){$(e.target).parents(".filter-top").length&&($(this).toggleClass("crumbs__crumb--active"),r()),$(e.target).parents(".crumbs__crumb").toggleClass("crumbs__crumb--active"),0===$(e.target).parents(".crumbs").children(".crumbs__crumb--active").length?$(e.target).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(e.target).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active")}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active"),r()}),$("#menu-element-more").on("click",function(){$(".menu__desktop-more-list").slideToggle(400),$("#menu-element-more").toggleClass("menu__desktop-element--open")}),$(".filters__switch-text").on("click",function(){$(this).parent().toggleClass("filters__switch--active"),$(this).next().slideToggle(400)}),$(".filters__switch-modal-label").on("click",function(e){if($(this).parents(".cinema-hall").length){$(this).toggleClass("filters__switch-modal-label--active");var t=$(".filters__switch-modal-label--active").length,r=$(".filters__switch-text");t?1===t?r.text(r.data("text-one-check").replace("$",t)):t<=4?r.text(r.data("text-four-check").replace("$",t)):r.text(r.data("text-nine-check").replace("$",t)):r.text(r.data("text-default"))}else $(e.target).hasClass("filters__switch-modal-label--custom")||($(this).parents(".filters__switch").children(".filters__switch-text").text($(e.target).text()),$(this).parents(".filters__switch-modal").toggle(0),$(this).parents(".filters__switch").toggleClass("filters__switch--active"))}),$(".filter__date-element").on("click",function(){$(".filter__date-element").removeClass("filter__date-element--active"),$(this).addClass("filter__date-element--active")}),$(".menu__burger").on("click",function(){$(".menu").toggleClass("menu--open")}),pageYOffset?$(".header").addClass("header--scroll"):$(".header").removeClass("header--scroll"),$(window).on("scroll",function(){pageYOffset?($(".header").addClass("header--scroll"),$(".menu__desktop").addClass("menu__desktop--scroll")):($(".header").removeClass("header--scroll"),$(".menu__desktop").removeClass("menu__desktop--scroll"))}),$(".poster-slider__stories").on("click",function(e){var t=$(e.target).parents(".stories");(t.length||$(e.target).hasClass("stories"))&&function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=".modal-overlay".concat(t?'[data-name="'.concat(t,'"]'):"");console.log(r+" .modal"),a(),$(r).toggleClass("modal-overlay--active"),$(r+" .modal").toggleClass("modal--active");new Swiper(r+" .modal__content",{effect:"coverflow",grabCursor:!0,spaceBetween:30,slidesPerView:"auto",initialSlide:e,navigation:{nextEl:".stories-arrow-right",prevEl:".stories-arrow-left"},on:{slideChange:function(e){i(e)},init:function(e){i(e)}}})}(t.index(),t.parents(".content").data("name"))}),$(".modal__close").on("click",n),$(".modal-overlay").on("click",function(e){$(e.target).hasClass("modal-overlay--active")&&n()}),$(".hidden-button").on("click",function(){if($(".hidden-text--active").length)$(".hidden-text").toggleClass("hidden-text--active"),$(".hidden-text").css("height",$(".hidden-text").data("text-height")),$(".hidden-button").text($(".hidden-button").data("switch-text-end"));else{$(".hidden-text").toggleClass("hidden-text--active");var e=$(".hidden-text"),t=e.height(),r=e.css("height","auto").height();e.height(t).animate({height:r},200),$(".hidden-button").text($(".hidden-button").data("switch-text-start"))}}),$("#board-team").on("click",e.bind($("#board-team"),[".board__work",".board__information"],".board__team")),$("#board-work").on("click",e.bind($("#board-work"),[".board__team",".board__information"],".board__work")),$("#board-information").on("click",e.bind($("#board-information"),[".board__team",".board__work"],".board__information")),$(".filter-top__toggle-title").on("click",function(){$(".filter-top__toggle-title").removeClass("filter-top__toggle-title--active"),$(this).addClass("filter-top__toggle-title--active"),$(".content").fadeOut(100),$("[data-name=".concat($(this).data("tag-name"),"]")).fadeIn(100)});new Swiper(".poster-slider__slider",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},on:{slideChange:function(e){var t=e.slides,r=e.activeIndex;t.each(function(e,t){t<r?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}}),new Swiper(".poster-slider__stories",{spaceBetween:10,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},breakpoints:{901:{spaceBetween:25},501:{spaceBetween:20}},on:{slideChange:function(e){var t=e.slides,r=e.activeIndex;t.each(function(e,t){t<r?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}});$(window).width()<=1299&&($(".menu__desktop-more-list").children(".menu__desktop-element").appendTo($(".menu__desktop")),$("#menu-element-more").addClass("delete")),baguetteBox.run(".gallery")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50Iiwib24iLCJyZWFkeVN0YXRlIiwid2luZG93Iiwid2lkdGgiLCJ0ZXh0IiwiZGF0YSIsImFwcGVuZFRvIiwiYWpheFJlcXVlc3QiLCJhamF4Rm9ybSIsInVybCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJ6IiwiY29uc29sZSIsImxvZyIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzZXJpYWxpemUiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJwYXJzZUpTT04iLCJlcnJvciIsImFsZXJ0Iiwic2Nyb2xsRW11bGF0aW9uIiwiZG9jdW1lbnRXaWR0aCIsInBhcnNlSW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsImlubmVyV2lkdGgiLCJjc3MiLCJwYWRkaW5nLXJpZ2h0IiwiY29uY2F0IiwidG9nZ2xlQ2xhc3MiLCJ0b2dnbGVCb2FyZFRhYiIsInNlbGVjdG9yT2xkQmxvY2tzIiwic2VsZWN0b3JOZXdCbG9jayIsInJlbW92ZUNsYXNzIiwidGhpcyIsImFkZENsYXNzIiwiam9pbiIsImZhZGVPdXQiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwiZmlsdGVyQ29udGVudEJsb2NrIiwiYXJyRWxlbWVudHMiLCJlYWNoIiwiaW5kZXgiLCJlbGVtZW50IiwiaSIsImUiLCJwdXNoIiwibGVuZ3RoIiwicGxheVZpZGVvU3RvcmllcyIsIl9yZWYiLCJzbGlkZXMiLCJhY3RpdmVJbmRleCIsInZpZGVvU3RvcmllcyIsInByZXZTbGlkZXMiLCJjaGlsZHJlbiIsInByZXZWaWRlb1N0b3JpZXMiLCJuZXh0VmlkZW9TdG9yaWVzIiwiYXR0ciIsInJlcGxhY2UiLCJjbG9zZU1vZGFsIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJwYXJlbnRzIiwic2xpZGVUb2dnbGUiLCJwYXJlbnQiLCJuZXh0IiwiYW1vdW50IiwiaW5wdXQiLCJoYXNDbGFzcyIsInRvZ2dsZSIsInBhZ2VZT2Zmc2V0Iiwic3RvcmllcyIsImluaXROdW1iZXJTbGlkZXIiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJuYW1lTW9kYWwiLCJzZWxlY3RvclNsaWRlciIsIlN3aXBlciIsImVmZmVjdCIsImdyYWJDdXJzb3IiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3IiwiaW5pdGlhbFNsaWRlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNsaWRlQ2hhbmdlIiwic3dpcGVyIiwiaW5pdCIsInRvZ2dsZU1vZGFsIiwiZWwiLCJjdXJIZWlnaHQiLCJoZWlnaHQiLCJhdXRvSGVpZ2h0IiwiYW5pbWF0ZSIsImJpbmQiLCJfcmVmMiIsInNsaWRlIiwicmVhY2hFbmQiLCJfcmVmMyIsIiRlbCIsImZyb21FZGdlIiwiX3JlZjQiLCJicmVha3BvaW50cyIsIjkwMSIsIjUwMSIsIl9yZWY1IiwiX3JlZjYiLCJfcmVmNyIsImJhZ3VldHRlQm94IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxFQUFFQyxVQUFVQyxHQUFHLG1CQUFvQixXQUNULGdCQUF4QkQsU0FBU0UsWUFBZ0NILEVBQUVJLFFBQVFDLFNBQVcsS0FBT0wsRUFBRSxxQkFBcUJNLEtBQUtOLEVBQUUscUJBQXFCTyxLQUFLLGdCQUNyRyxnQkFBeEJOLFNBQVNFLFlBQWdDSCxFQUFFSSxRQUFRQyxTQUFXLEtBQU9MLEVBQUUsMkRBQTJEUSxTQUFTUixFQUFFLDBCQUUvSUEsRUFBRUksUUFBUUYsR0FBRyxPQUFRLFdBS25CLFNBQVNPLEVBQVlDLEVBQVVDLEdBQzdCLElBQ0VDLFFBQVFDLGFBQWEsS0FBTSxLQUFNLEtBQ2pDLE1BQU9DLEdBQ1BDLFFBQVFDLElBQUlGLEdBR2RkLEVBQUVpQixLQUFLLENBQ0xOLElBQUtBLEVBQ0xPLEtBQU0sT0FDTkMsU0FBVSxPQUNWWixLQUFNUCxFQUFFLElBQU1VLEdBQVVVLFlBRXhCQyxRQUFTLFNBQWlCQyxHQUV4QixJQUFJQyxFQUFTdkIsRUFBRXdCLFVB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LHdCQUF3QnRCLFlBQVksbUNBSXZEekMsRUFBRUksUUFBUUMsU0FBVyxPQUFTTCxFQUFFLDRCQUE0QitELFNBQVMsMEJBQTBCdkQsU0FBU1IsRUFBRSxtQkFBb0JBLEVBQUUsc0JBQXNCMkMsU0FBUyxXQUMvSjJFLFlBQVlDLElBQUkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4kKGRvY3VtZW50KS5vbihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIgJiYgJCh3aW5kb3cpLndpZHRoKCkgPD0gNTAwICYmICQoXCIuaGVhZGVyX19sb2ctbGlua1wiKS50ZXh0KCQoXCIuaGVhZGVyX19sb2ctbGlua1wiKS5kYXRhKFwibW9iaWxlLXRleHRcIikpO1xuICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIgJiYgJCh3aW5kb3cpLndpZHRoKCkgPD0gNzAwICYmICQoJy51c2VyX19hYm91dCwgLnVzZXJfX2dyaWQsIC5oaWRkZW4tdGV4dCwgLmhpZGRlbi1idXR0b24nKS5hcHBlbmRUbygkKCcuYm9hcmRfX2luZm9ybWF0aW9uJykpO1xufSk7XG4kKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyaWFibGVzXG4gIC8vIC92YXJpYWJsZXNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB1bml2ZXJzYWwgZnVuY3Rpb25cbiAgZnVuY3Rpb24gYWpheFJlcXVlc3QoYWpheEZvcm0sIHVybCkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIik7XG4gICAgfSBjYXRjaCAoeikge1xuICAgICAgY29uc29sZS5sb2coeik7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICBkYXRhOiAkKFwiLlwiICsgYWpheEZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgLy8g0KHQtdCw0YDQuNC70LjQt9GD0LXQvCDQvtCx0YrQtdC60YJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgLy/QlNCw0L3QvdGL0LUg0L7RgtC/0YDQsNCy0LvQtdC90Ysg0YPRgdC/0LXRiNC90L5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3BvbnNlKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IocmVzcG9uc2UpIHtcbiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YtcbiAgICAgICAgYWxlcnQoXCLQntGI0LjQsdC60LAuINCU0LDQvdC90YvQtSDQvdC1INC+0YLQv9GA0LDQstC70LXQvdGLLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbEVtdWxhdGlvbigpIHtcbiAgICB2YXIgZG9jdW1lbnRXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgdmFyIHdpbmRvd3NXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB3aW5kb3dzV2lkdGggLSBkb2N1bWVudFdpZHRoO1xuICAgICQoXCJib2R5XCIpLmNzcyh7XG4gICAgICBcInBhZGRpbmctcmlnaHRcIjogXCJcIi5jb25jYXQoc2Nyb2xsYmFyV2lkdGgsIFwicHhcIilcbiAgICB9KTtcbiAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcImJsb2NrXCIpO1xuICB9IC8vICAvdW5pdmVyc2FsIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gZXZlbnRcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwYXJ0aWNpcGFudHMuaHRtbFxuXG5cbiAgJChcIiNwYXJ0aWNpcGFudHMtZmlsdGVyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiZmlsdGVyX19jb250YWluZXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBhcnRpY2lwYW50cy5odG1sXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgY2luZW1hLWhhbGwuaHRtbFxuXG4gICQoXCIjY2luZW1hLWhhbGwtZmlsdGVyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY2luZW1hLWhhbGwtZmlsdGVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBjaW5lbWEtaGFsbC5odG1sXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgbGl0ZXJhcnktcm9vbS5odG1sXG5cbiAgJChcIiNsaXRlcmFyeS1yb29tLWZpbHRlclwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImxpdGVyYXJ5LXJvb20tZmlsdGVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBsaXRlcmFyeS1yb29tLmh0bWxcbiAgLy8g0JTQsNGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sXG5cbiAgJChcIiNwb3N0ZXItZmlsdGVyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiZmlsdGVyX19jb250YWluZXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QlNCw0YLRiyDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWxcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L7Qt9Cw0LtcIlxuXG4gICQoXCIjY3J1bWJzLW9uZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy1vbmVcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQmtC40L3QvtC30LDQu1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCi0LXQsNGC0YDQsNC70YzQvdGL0Lkg0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy10d29cIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtdHdvXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0KLQtdCw0YLRgNCw0LvRjNC90YvQuSDQt9Cw0LtcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQmtC+0L3RhtC10YDRgtC90YvQuSDQt9Cw0LtcIlxuXG4gICQoXCIjY3J1bWJzLXRocmVlXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLXRocmVlXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQvtC90YbQtdGA0YLQvdGL0Lkg0LfQsNC7XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JvQuNGC0LXRgNCw0YLRg9GA0L3QsNGPINCz0L7RgdGC0LjQvdCw0Y9cIlxuXG4gICQoXCIjY3J1bWJzLWZvdXJcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtZm91clwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCb0LjRgtC10YDQsNGC0YPRgNC90LDRjyDQs9C+0YHRgtC40L3QsNGPXCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JLRi9GB0YLQsNCy0LrQsFwiXG5cbiAgJChcIiNjcnVtYnMtZml2ZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy1maXZlXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JLRi9GB0YLQsNCy0LrQsFwiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgY2luZW1hLWhhbGwuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L5cIlxuXG4gICQoXCIjY2luZW1hLWNydW1icy1vbmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjaW5lbWEtY3J1bWJzLW9uZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgY2luZW1hLWhhbGwuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L5cIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCQ0L3QuNC80LDRhtC40Y9cIlxuXG4gICQoXCIjY2luZW1hLWNydW1icy10d29cIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjaW5lbWEtY3J1bWJzLXR3b1wiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgY2luZW1hLWhhbGwuaHRtbCDQsiDQsdC70L7QutC1IFwi0JDQvdC40LzQsNGG0LjRj1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgbGl0ZXJhcnktcm9vbS5odG1sINCyINCx0LvQvtC60LUgXCLQm9C40YLQtdGA0LDRgtGD0YDQsFwiXG5cbiAgJChcIiNsaXRlcmFyeS1jcnVtYnMtb25lXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwibGl0ZXJhcnktY3J1bWJzLW9uZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgbGl0ZXJhcnktcm9vbS5odG1sINCyINCx0LvQvtC60LUgXCLQm9C40YLQtdGA0LDRgtGD0YDQsFwiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgbGl0ZXJhcnktcm9vbS5odG1sINCyINCx0LvQvtC60LUgXCLQmNGB0L/QvtC70L3QuNGC0LXQu9C4LdGH0YLQtdGG0YtcIlxuXG4gICQoXCIjbGl0ZXJhcnktY3J1bWJzLXR3b1wiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImxpdGVyYXJ5LWNydW1icy10d29cIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGxpdGVyYXJ5LXJvb20uaHRtbCDQsiDQsdC70L7QutC1IFwi0JjRgdC/0L7Qu9C90LjRgtC10LvQuC3Rh9GC0LXRhtGLXCJcblxuICAkKFwiLmNydW1ic19fY3J1bWJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICQoZS50YXJnZXQpLnBhcmVudHMoJy5maWx0ZXItdG9wJykubGVuZ3RoICYmICgkKHRoaXMpLnRvZ2dsZUNsYXNzKCdjcnVtYnNfX2NydW1iLS1hY3RpdmUnKSwgZmlsdGVyQ29udGVudEJsb2NrKCkpO1xuICAgICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzX19jcnVtYlwiKS50b2dnbGVDbGFzcyhcImNydW1ic19fY3J1bWItLWFjdGl2ZVwiKTtcbiAgICAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NydW1iLS1hY3RpdmVcIikubGVuZ3RoID09PSAwID8gJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jbGVhclwiKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKSA6ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY2xlYXJcIikuYWRkQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIik7XG4gIH0pO1xuICAkKFwiLmNydW1ic19fY2xlYXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NydW1iXCIpLnJlbW92ZUNsYXNzKFwiY3J1bWJzX19jcnVtYi0tYWN0aXZlXCIpO1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIik7XG4gICAgZmlsdGVyQ29udGVudEJsb2NrKCk7XG4gIH0pO1xuICAkKFwiI21lbnUtZWxlbWVudC1tb3JlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoXCIubWVudV9fZGVza3RvcC1tb3JlLWxpc3RcIikuc2xpZGVUb2dnbGUoNDAwKTtcbiAgICAkKFwiI21lbnUtZWxlbWVudC1tb3JlXCIpLnRvZ2dsZUNsYXNzKFwibWVudV9fZGVza3RvcC1lbGVtZW50LS1vcGVuXCIpO1xuICB9KTtcbiAgJChcIi5maWx0ZXJzX19zd2l0Y2gtdGV4dFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKFwiZmlsdGVyc19fc3dpdGNoLS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoNDAwKTtcbiAgfSk7XG4gICQoXCIuZmlsdGVyc19fc3dpdGNoLW1vZGFsLWxhYmVsXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoISQodGhpcykucGFyZW50cygnLmNpbmVtYS1oYWxsJykubGVuZ3RoKSB7XG4gICAgICBpZiAoISQoZS50YXJnZXQpLmhhc0NsYXNzKFwiZmlsdGVyc19fc3dpdGNoLW1vZGFsLWxhYmVsLS1jdXN0b21cIikpIHtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKFwiLmZpbHRlcnNfX3N3aXRjaFwiKS5jaGlsZHJlbihcIi5maWx0ZXJzX19zd2l0Y2gtdGV4dFwiKS50ZXh0KCQoZS50YXJnZXQpLnRleHQoKSk7XG4gICAgICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJzX19zd2l0Y2gtbW9kYWxcIikudG9nZ2xlKDApO1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoXCIuZmlsdGVyc19fc3dpdGNoXCIpLnRvZ2dsZUNsYXNzKFwiZmlsdGVyc19fc3dpdGNoLS1hY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2ZpbHRlcnNfX3N3aXRjaC1tb2RhbC1sYWJlbC0tYWN0aXZlJyk7XG4gICAgICB2YXIgYW1vdW50ID0gJCgnLmZpbHRlcnNfX3N3aXRjaC1tb2RhbC1sYWJlbC0tYWN0aXZlJykubGVuZ3RoLFxuICAgICAgICAgIGlucHV0ID0gJCgnLmZpbHRlcnNfX3N3aXRjaC10ZXh0Jyk7XG4gICAgICBhbW91bnQgPyBhbW91bnQgPT09IDEgPyBpbnB1dC50ZXh0KGlucHV0LmRhdGEoJ3RleHQtb25lLWNoZWNrJykucmVwbGFjZSgnJCcsIGFtb3VudCkpIDogYW1vdW50IDw9IDQgPyBpbnB1dC50ZXh0KGlucHV0LmRhdGEoJ3RleHQtZm91ci1jaGVjaycpLnJlcGxhY2UoJyQnLCBhbW91bnQpKSA6IGlucHV0LnRleHQoaW5wdXQuZGF0YSgndGV4dC1uaW5lLWNoZWNrJykucmVwbGFjZSgnJCcsIGFtb3VudCkpIDogaW5wdXQudGV4dChpbnB1dC5kYXRhKCd0ZXh0LWRlZmF1bHQnKSk7XG4gICAgfVxuICB9KTtcbiAgJChcIi5maWx0ZXJfX2RhdGUtZWxlbWVudFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLmZpbHRlcl9fZGF0ZS1lbGVtZW50XCIpLnJlbW92ZUNsYXNzKFwiZmlsdGVyX19kYXRlLWVsZW1lbnQtLWFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKFwiZmlsdGVyX19kYXRlLWVsZW1lbnQtLWFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIubWVudV9fYnVyZ2VyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoXCIubWVudVwiKS50b2dnbGVDbGFzcyhcIm1lbnUtLW9wZW5cIik7XG4gIH0pO1xuICBwYWdlWU9mZnNldCA/ICQoXCIuaGVhZGVyXCIpLmFkZENsYXNzKFwiaGVhZGVyLS1zY3JvbGxcIikgOiAkKFwiLmhlYWRlclwiKS5yZW1vdmVDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpO1xuICAkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgIHBhZ2VZT2Zmc2V0ID8gKCQoXCIuaGVhZGVyXCIpLmFkZENsYXNzKFwiaGVhZGVyLS1zY3JvbGxcIiksICQoXCIubWVudV9fZGVza3RvcFwiKS5hZGRDbGFzcyhcIm1lbnVfX2Rlc2t0b3AtLXNjcm9sbFwiKSkgOiAoJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKSwgJChcIi5tZW51X19kZXNrdG9wXCIpLnJlbW92ZUNsYXNzKFwibWVudV9fZGVza3RvcC0tc2Nyb2xsXCIpKTtcbiAgfSk7XG4gICQoXCIucG9zdGVyLXNsaWRlcl9fc3Rvcmllc1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHN0b3JpZXMgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLnN0b3JpZXNcIik7XG4gICAgKHN0b3JpZXMubGVuZ3RoIHx8ICQoZS50YXJnZXQpLmhhc0NsYXNzKFwic3Rvcmllc1wiKSkgJiYgdG9nZ2xlTW9kYWwoc3Rvcmllcy5pbmRleCgpLCBzdG9yaWVzLnBhcmVudHMoJy5jb250ZW50JykuZGF0YSgnbmFtZScpKTtcbiAgfSk7XG4gICQoXCIubW9kYWxfX2Nsb3NlXCIpLm9uKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XG4gICQoXCIubW9kYWwtb3ZlcmxheVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKFwibW9kYWwtb3ZlcmxheS0tYWN0aXZlXCIpKSBjbG9zZU1vZGFsKCk7XG4gIH0pO1xuICAkKCcuaGlkZGVuLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISQoJy5oaWRkZW4tdGV4dC0tYWN0aXZlJykubGVuZ3RoKSB7XG4gICAgICAkKCcuaGlkZGVuLXRleHQnKS50b2dnbGVDbGFzcygnaGlkZGVuLXRleHQtLWFjdGl2ZScpO1xuICAgICAgdmFyIGVsID0gJCgnLmhpZGRlbi10ZXh0JyksXG4gICAgICAgICAgY3VySGVpZ2h0ID0gZWwuaGVpZ2h0KCksXG4gICAgICAgICAgYXV0b0hlaWdodCA9IGVsLmNzcygnaGVpZ2h0JywgJ2F1dG8nKS5oZWlnaHQoKTtcbiAgICAgIGVsLmhlaWdodChjdXJIZWlnaHQpLmFuaW1hdGUoe1xuICAgICAgICBoZWlnaHQ6IGF1dG9IZWlnaHRcbiAgICAgIH0sIDIwMCk7XG4gICAgICAkKCcuaGlkZGVuLWJ1dHRvbicpLnRleHQoJCgnLmhpZGRlbi1idXR0b24nKS5kYXRhKCdzd2l0Y2gtdGV4dC1zdGFydCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmhpZGRlbi10ZXh0JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbi10ZXh0LS1hY3RpdmUnKTtcbiAgICAgICQoJy5oaWRkZW4tdGV4dCcpLmNzcygnaGVpZ2h0JywgJCgnLmhpZGRlbi10ZXh0JykuZGF0YSgndGV4dC1oZWlnaHQnKSk7XG4gICAgICAkKCcuaGlkZGVuLWJ1dHRvbicpLnRleHQoJCgnLmhpZGRlbi1idXR0b24nKS5kYXRhKCdzd2l0Y2gtdGV4dC1lbmQnKSk7XG4gICAgfVxuICB9KTtcbiAgJCgnI2JvYXJkLXRlYW0nKS5vbignY2xpY2snLCB0b2dnbGVCb2FyZFRhYi5iaW5kKCQoJyNib2FyZC10ZWFtJyksIFsnLmJvYXJkX193b3JrJywgJy5ib2FyZF9faW5mb3JtYXRpb24nXSwgJy5ib2FyZF9fdGVhbScpKTtcbiAgJCgnI2JvYXJkLXdvcmsnKS5vbignY2xpY2snLCB0b2dnbGVCb2FyZFRhYi5iaW5kKCQoJyNib2FyZC13b3JrJyksIFsnLmJvYXJkX190ZWFtJywgJy5ib2FyZF9faW5mb3JtYXRpb24nXSwgJy5ib2FyZF9fd29yaycpKTtcbiAgJCgnI2JvYXJkLWluZm9ybWF0aW9uJykub24oJ2NsaWNrJywgdG9nZ2xlQm9hcmRUYWIuYmluZCgkKCcjYm9hcmQtaW5mb3JtYXRpb24nKSwgWycuYm9hcmRfX3RlYW0nLCAnLmJvYXJkX193b3JrJ10sICcuYm9hcmRfX2luZm9ybWF0aW9uJykpO1xuICAkKCcuZmlsdGVyLXRvcF9fdG9nZ2xlLXRpdGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5maWx0ZXItdG9wX190b2dnbGUtdGl0bGUnKS5yZW1vdmVDbGFzcygnZmlsdGVyLXRvcF9fdG9nZ2xlLXRpdGxlLS1hY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdmaWx0ZXItdG9wX190b2dnbGUtdGl0bGUtLWFjdGl2ZScpO1xuICAgICQoJy5jb250ZW50JykuZmFkZU91dCgxMDApO1xuICAgICQoXCJbZGF0YS1uYW1lPVwiLmNvbmNhdCgkKHRoaXMpLmRhdGEoJ3RhZy1uYW1lJyksIFwiXVwiKSkuZmFkZUluKDEwMCk7XG4gIH0pOyAvLyAvZXZlbnRcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB1bmlxdWUgZnVuY3Rpb25cblxuICBmdW5jdGlvbiB0b2dnbGVCb2FyZFRhYihzZWxlY3Rvck9sZEJsb2Nrcywgc2VsZWN0b3JOZXdCbG9jaykge1xuICAgICQoJy5ib2FyZF9faGVhZGVyLXRpdGxlJykucmVtb3ZlQ2xhc3MoJ2JvYXJkX19oZWFkZXItdGl0bGUtLWFjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2JvYXJkX19oZWFkZXItdGl0bGUtLWFjdGl2ZScpO1xuICAgICQoc2VsZWN0b3JPbGRCbG9ja3Muam9pbignLCAnKSkuZmFkZU91dCg0MDApO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgJChzZWxlY3Rvck5ld0Jsb2NrKS5mYWRlSW4oNDAwKTtcbiAgICB9LCA0MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsdGVyQ29udGVudEJsb2NrKCkge1xuICAgIHZhciBhcnJFbGVtZW50cyA9IFtdO1xuICAgICQoJy5jb250ZW50JykuZmFkZU91dCgxMDApO1xuICAgICQoJy5jcnVtYnNfX2NydW1iLS1hY3RpdmUnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgJCgnLmNvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICQoZSkuZGF0YSgnbmFtZScpID09PSAkKGVsZW1lbnQpLmRhdGEoJ3RhZy1uYW1lJykgJiYgYXJyRWxlbWVudHMucHVzaChlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGFyckVsZW1lbnRzKTtcbiAgICAkKGFyckVsZW1lbnRzKS5sZW5ndGggPyAkKGFyckVsZW1lbnRzKS5mYWRlSW4oMTAwKSA6ICQoJy5jb250ZW50JykuZmFkZUluKDEwMCk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVNb2RhbCgpIHtcbiAgICB2YXIgaW5pdE51bWJlclNsaWRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgbmFtZU1vZGFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICB2YXIgc2VsZWN0b3JTbGlkZXIgPSBcIi5tb2RhbC1vdmVybGF5XCIuY29uY2F0KG5hbWVNb2RhbCA/IFwiW2RhdGEtbmFtZT1cXFwiXCIuY29uY2F0KG5hbWVNb2RhbCwgXCJcXFwiXVwiKSA6ICcnKTtcbiAgICBjb25zb2xlLmxvZyhzZWxlY3RvclNsaWRlciArICcgLm1vZGFsJyk7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJChzZWxlY3RvclNsaWRlcikudG9nZ2xlQ2xhc3MoXCJtb2RhbC1vdmVybGF5LS1hY3RpdmVcIik7XG4gICAgJChzZWxlY3RvclNsaWRlciArICcgLm1vZGFsJykudG9nZ2xlQ2xhc3MoXCJtb2RhbC0tYWN0aXZlXCIpO1xuICAgIHZhciBzd2lwZXJHYWxsZXJ5ID0gbmV3IFN3aXBlcihzZWxlY3RvclNsaWRlciArIFwiIC5tb2RhbF9fY29udGVudFwiLCB7XG4gICAgICBlZmZlY3Q6IFwiY292ZXJmbG93XCIsXG4gICAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgICAgaW5pdGlhbFNsaWRlOiBpbml0TnVtYmVyU2xpZGVyLFxuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6IFwiLnN0b3JpZXMtYXJyb3ctcmlnaHRcIixcbiAgICAgICAgcHJldkVsOiBcIi5zdG9yaWVzLWFycm93LWxlZnRcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgICAgICBwbGF5VmlkZW9TdG9yaWVzKHN3aXBlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3dpcGVyKSB7XG4gICAgICAgICAgcGxheVZpZGVvU3Rvcmllcyhzd2lwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5VmlkZW9TdG9yaWVzKF9yZWYpIHtcbiAgICB2YXIgc2xpZGVzID0gX3JlZi5zbGlkZXMsXG4gICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleCxcbiAgICAgICAgcHJldlNsaWRlcyA9IF9yZWYucHJldlNsaWRlcztcbiAgICB2YXIgdmlkZW9TdG9yaWVzID0gJChzbGlkZXNbYWN0aXZlSW5kZXhdKS5jaGlsZHJlbihcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIiksXG4gICAgICAgIHByZXZWaWRlb1N0b3JpZXMgPSAkKHNsaWRlc1thY3RpdmVJbmRleCAtIDFdKS5jaGlsZHJlbihcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIiksXG4gICAgICAgIG5leHRWaWRlb1N0b3JpZXMgPSAkKHNsaWRlc1thY3RpdmVJbmRleCArIDFdKS5jaGlsZHJlbihcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIik7XG4gICAgcHJldlZpZGVvU3Rvcmllcy5sZW5ndGggJiYgcHJldlZpZGVvU3Rvcmllcy5hdHRyKFwic3JjXCIsIHByZXZWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSk7XG4gICAgbmV4dFZpZGVvU3Rvcmllcy5sZW5ndGggJiYgbmV4dFZpZGVvU3Rvcmllcy5hdHRyKFwic3JjXCIsIG5leHRWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSk7XG4gICAgdmlkZW9TdG9yaWVzLmxlbmd0aCAmJiB2aWRlb1N0b3JpZXMuYXR0cihcInNyY1wiLCB2aWRlb1N0b3JpZXMuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSArIFwiP2F1dG9wbGF5PTFcIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLmF0dHIoXCJzcmNcIiwgJChcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIikuYXR0cihcInNyY1wiKS5yZXBsYWNlKC9cXD9hdXRvcGxheT0xL2dpLCBcIlwiKSk7XG4gICAgJChcIi5tb2RhbC1vdmVybGF5XCIpLnJlbW92ZUNsYXNzKFwibW9kYWwtb3ZlcmxheS0tYWN0aXZlXCIpO1xuICAgICQoXCIubW9kYWxcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbC0tYWN0aXZlXCIpO1xuICB9IC8vIC91bmlxdWUgZnVuY3Rpb25cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBQYWdlIGxvYWRcblxuXG4gIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnBvc3Rlci1zbGlkZXJfX3NsaWRlclwiLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAyMCxcbiAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIjZmlyc3Qtc2xpZGVyLWFycm93LXJpZ2h0XCIsXG4gICAgICBwcmV2RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1sZWZ0XCJcbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2UoX3JlZjIpIHtcbiAgICAgICAgdmFyIHNsaWRlcyA9IF9yZWYyLnNsaWRlcyxcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZjIuYWN0aXZlSW5kZXg7XG4gICAgICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgICBpbmRleCA8IGFjdGl2ZUluZGV4ID8gJChzbGlkZSkuYWRkQ2xhc3MoXCJzd2lwZXItc2xpZGUtcHJldi1wcmV2XCIpIDogJChzbGlkZSkucmVtb3ZlQ2xhc3MoXCJzd2lwZXItc2xpZGUtcHJldi1wcmV2XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZWFjaEVuZDogZnVuY3Rpb24gcmVhY2hFbmQoX3JlZjMpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWYzLiRlbDtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX3NoYWRvd1wiKS5hZGRDbGFzcyhcInBvc3Rlci1zbGlkZXJfX3NoYWRvdy0taGlkZGVuXCIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fZGFya1wiKS5hZGRDbGFzcyhcInBvc3Rlci1zbGlkZXJfX2RhcmstLWhpZGRlblwiKTtcbiAgICAgIH0sXG4gICAgICBmcm9tRWRnZTogZnVuY3Rpb24gZnJvbUVkZ2UoX3JlZjQpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWY0LiRlbDtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX3NoYWRvd1wiKS5yZW1vdmVDbGFzcyhcInBvc3Rlci1zbGlkZXJfX3NoYWRvdy0taGlkZGVuXCIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fZGFya1wiKS5yZW1vdmVDbGFzcyhcInBvc3Rlci1zbGlkZXJfX2RhcmstLWhpZGRlblwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB2YXIgc3dpcGVyU3RvcmllcyA9IG5ldyBTd2lwZXIoXCIucG9zdGVyLXNsaWRlcl9fc3Rvcmllc1wiLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogXCIjZmlyc3Qtc2xpZGVyLWFycm93LXJpZ2h0XCIsXG4gICAgICBwcmV2RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1sZWZ0XCJcbiAgICB9LFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICA5MDE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyNVxuICAgICAgfSxcbiAgICAgIDUwMToge1xuICAgICAgICBzcGFjZUJldHdlZW46IDIwXG4gICAgICB9XG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKF9yZWY1KSB7XG4gICAgICAgIHZhciBzbGlkZXMgPSBfcmVmNS5zbGlkZXMsXG4gICAgICAgICAgICBhY3RpdmVJbmRleCA9IF9yZWY1LmFjdGl2ZUluZGV4O1xuICAgICAgICBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPCBhY3RpdmVJbmRleCA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVhY2hFbmQ6IGZ1bmN0aW9uIHJlYWNoRW5kKF9yZWY2KSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmNi4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKF9yZWY3KSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmNy4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgJCh3aW5kb3cpLndpZHRoKCkgPD0gMTI5OSAmJiAoJChcIi5tZW51X19kZXNrdG9wLW1vcmUtbGlzdFwiKS5jaGlsZHJlbihcIi5tZW51X19kZXNrdG9wLWVsZW1lbnRcIikuYXBwZW5kVG8oJChcIi5tZW51X19kZXNrdG9wXCIpKSwgJChcIiNtZW51LWVsZW1lbnQtbW9yZVwiKS5hZGRDbGFzcyhcImRlbGV0ZVwiKSk7XG4gIGJhZ3VldHRlQm94LnJ1bihcIi5nYWxsZXJ5XCIpOyAvLyAvUGFnZSBsb2FkXG59KTsiXX0=
