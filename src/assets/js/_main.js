"use strict";$(document).on("readystatechange",function(){"interactive"===document.readyState&&$(window).width()<=500&&$(".header__log-link").text($(".header__log-link").data("mobile-text")),"interactive"===document.readyState&&$(window).width()<=700&&$(".user__about, .user__grid, .user__about-text, .user__button").appendTo($(".board__information"))}),$(window).on("load",function(){function t(e,t){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:t,type:"POST",dataType:"html",data:$("."+e).serialize(),success:function(e){var t=$.parseJSON(e);console.log(t)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}function r(){var e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block")}function e(e,t){$(".board__header-title").removeClass("board__header-title--active"),$(this).addClass("board__header-title--active"),$(e.join(", ")).fadeOut(400),setTimeout(function(){$(t).fadeIn(400)},400)}function a(e){var t=e.slides,r=e.activeIndex,a=(e.prevSlides,$(t[r]).children(".modal__slide-video")),s=$(t[r-1]).children(".modal__slide-video"),i=$(t[r+1]).children(".modal__slide-video");s.length&&s.attr("src",s.attr("src").replace(/\?autoplay=1/gi,"")),i.length&&i.attr("src",i.attr("src").replace(/\?autoplay=1/gi,"")),a.length&&a.attr("src",a.attr("src").replace(/\?autoplay=1/gi,"")+"?autoplay=1")}function s(){r(),$(".modal__slide-video").attr("src",$(".modal__slide-video").attr("src").replace(/\?autoplay=1/gi,"")),$(".modal-overlay").removeClass("modal-overlay--active"),$(".modal").removeClass("modal--active")}$("#participants-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#cinema-hall-filter").on("input submit",function(e){e.preventDefault(),t("cinema-hall-filter","test.php")}),$("#poster-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#crumbs-one").on("input submit",function(e){e.preventDefault(),t("crumbs-one","test.php")}),$("#crumbs-two").on("input submit",function(e){e.preventDefault(),t("crumbs-two","test.php")}),$("#crumbs-three").on("input submit",function(e){e.preventDefault(),t("crumbs-three","test.php")}),$("#crumbs-four").on("input submit",function(e){e.preventDefault(),t("crumbs-four","test.php")}),$("#crumbs-five").on("input submit",function(e){e.preventDefault(),t("crumbs-five","test.php")}),$("#cinema-crumbs-one").on("input submit",function(e){e.preventDefault(),t("cinema-crumbs-one","test.php")}),$("#cinema-crumbs-two").on("input submit",function(e){e.preventDefault(),t("cinema-crumbs-two","test.php")}),$(".crumbs__crumb").on("click",function(){var r=this;$(this).toggleClass("crumbs__crumb--active"),0===$(this).parents(".crumbs").children(".crumbs__crumb--active").length?$(this).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(this).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active"),$("[data-name]").each(function(e,t){console.log($(t)[0]),console.log($("[data-name=".concat($(r).data("tag-name"),"]"))[0]),$(t)!==$("[data-name=".concat($(r).data("tag-name"),"]"))[0]&&$(t)[0].fadeToggle(100)})}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active")}),$("#menu-element-more").on("click",function(){$(".menu__desktop-more-list").slideToggle(400),$("#menu-element-more").toggleClass("menu__desktop-element--open")}),$(".filters__switch-text").on("click",function(){$(this).parent().toggleClass("filters__switch--active"),$(this).next().slideToggle(400)}),$(".filters__switch-modal-label").on("click",function(e){if($(this).parents(".cinema-hall").length){$(this).toggleClass("filters__switch-modal-label--active");var t=$(".filters__switch-modal-label--active").length,r=$(".filters__switch-text");t?1===t?r.text(r.data("text-one-check").replace("$",t)):t<=4?r.text(r.data("text-four-check").replace("$",t)):r.text(r.data("text-nine-check").replace("$",t)):r.text(r.data("text-default"))}else $(e.target).hasClass("filters__switch-modal-label--custom")||($(this).parents(".filters__switch").children(".filters__switch-text").text($(e.target).text()),$(this).parents(".filters__switch-modal").toggle(0),$(this).parents(".filters__switch").toggleClass("filters__switch--active"))}),$(".filter__date-element").on("click",function(){$(".filter__date-element").removeClass("filter__date-element--active"),$(this).addClass("filter__date-element--active")}),$(".menu__burger").on("click",function(){$(".menu").toggleClass("menu--open")}),pageYOffset?$(".header").addClass("header--scroll"):$(".header").removeClass("header--scroll"),$(window).on("scroll",function(){pageYOffset?($(".header").addClass("header--scroll"),$(".menu__desktop").addClass("menu__desktop--scroll")):($(".header").removeClass("header--scroll"),$(".menu__desktop").removeClass("menu__desktop--scroll"))}),$(".poster-slider__stories").on("click",function(e){var t=$(e.target).parents(".stories");(t.length||$(e.target).hasClass("stories"))&&function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;r(),$(".modal-overlay").toggleClass("modal-overlay--active"),$(".modal").toggleClass("modal--active");new Swiper(".modal__content",{effect:"coverflow",grabCursor:!0,spaceBetween:30,slidesPerView:"auto",initialSlide:e,navigation:{nextEl:".stories-arrow-right",prevEl:".stories-arrow-left"},on:{slideChange:function(e){a(e)},init:function(e){a(e)}}})}(t.index())}),$(".modal__close").on("click",s),$(".modal-overlay").on("click",function(e){$(e.target).hasClass("modal-overlay--active")&&s()}),$(".user__button").on("click",function(){if($(".user__about-text--active").length)$(".user__about-text").toggleClass("user__about-text--active"),$(".user__about-text").css("height",$(".user__about-text").data("text-height")),$(".user__button").text($(".user__button").data("switch-text-end"));else{$(".user__about-text").toggleClass("user__about-text--active");var e=$(".user__about-text"),t=e.height(),r=e.css("height","auto").height();e.height(t).animate({height:r},200),$(".user__button").text($(".user__button").data("switch-text-start"))}}),$("#board-team").on("click",e.bind($("#board-team"),[".board__work",".board__information"],".board__team")),$("#board-work").on("click",e.bind($("#board-work"),[".board__team",".board__information"],".board__work")),$("#board-information").on("click",e.bind($("#board-information"),[".board__team",".board__work"],".board__information"));new Swiper(".poster-slider__slider",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},on:{slideChange:function(e){var t=e.slides,r=e.activeIndex;t.each(function(e,t){t<r?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}}),new Swiper(".poster-slider__stories",{spaceBetween:10,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},breakpoints:{901:{spaceBetween:25},501:{spaceBetween:20}},on:{slideChange:function(e){var t=e.slides,r=e.activeIndex;t.each(function(e,t){t<r?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}});$(window).width()<=1299&&($(".menu__desktop-more-list").children(".menu__desktop-element").appendTo($(".menu__desktop")),$("#menu-element-more").addClass("delete")),baguetteBox.run(".gallery")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50Iiwib24iLCJyZWFkeVN0YXRlIiwid2luZG93Iiwid2lkdGgiLCJ0ZXh0IiwiZGF0YSIsImFwcGVuZFRvIiwiYWpheFJlcXVlc3QiLCJhamF4Rm9ybSIsInVybCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJ6IiwiY29uc29sZSIsImxvZyIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzZXJpYWxpemUiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJwYXJzZUpTT04iLCJlcnJvciIsImFsZXJ0Iiwic2Nyb2xsRW11bGF0aW9uIiwiZG9jdW1lbnRXaWR0aCIsInBhcnNlSW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsImlubmVyV2lkdGgiLCJjc3MiLCJwYWRkaW5nLXJpZ2h0IiwiY29uY2F0IiwidG9nZ2xlQ2xhc3MiLCJ0b2dnbGVCb2FyZFRhYiIsInNlbGVjdG9yT2xkQmxvY2tzIiwic2VsZWN0b3JOZXdCbG9jayIsInJlbW92ZUNsYXNzIiwidGhpcyIsImFkZENsYXNzIiwiam9pbiIsImZhZGVPdXQiLCJzZXRUaW1lb3V0IiwiZmFkZUluIiwicGxheVZpZGVvU3RvcmllcyIsIl9yZWYiLCJzbGlkZXMiLCJhY3RpdmVJbmRleCIsInZpZGVvU3RvcmllcyIsInByZXZTbGlkZXMiLCJjaGlsZHJlbiIsInByZXZWaWRlb1N0b3JpZXMiLCJuZXh0VmlkZW9TdG9yaWVzIiwibGVuZ3RoIiwiYXR0ciIsInJlcGxhY2UiLCJjbG9zZU1vZGFsIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX3RoaXMiLCJwYXJlbnRzIiwiZWFjaCIsImluZGV4IiwiZWxlbWVudCIsImZhZGVUb2dnbGUiLCJzbGlkZVRvZ2dsZSIsInBhcmVudCIsIm5leHQiLCJhbW91bnQiLCJpbnB1dCIsInRhcmdldCIsImhhc0NsYXNzIiwidG9nZ2xlIiwicGFnZVlPZmZzZXQiLCJzdG9yaWVzIiwiaW5pdE51bWJlclNsaWRlciIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIlN3aXBlciIsImVmZmVjdCIsImdyYWJDdXJzb3IiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3IiwiaW5pdGlhbFNsaWRlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNsaWRlQ2hhbmdlIiwic3dpcGVyIiwiaW5pdCIsInRvZ2dsZU1vZGFsIiwiZWwiLCJjdXJIZWlnaHQiLCJoZWlnaHQiLCJhdXRvSGVpZ2h0IiwiYW5pbWF0ZSIsImJpbmQiLCJfcmVmMiIsInNsaWRlIiwicmVhY2hFbmQiLCJfcmVmMyIsIiRlbCIsImZyb21FZGdlIiwiX3JlZjQiLCJicmVha3BvaW50cyIsIjkwMSIsIjUwMSIsIl9yZWY1IiwiX3JlZjYiLCJfcmVmNyIsImJhZ3VldHRlQm94IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxFQUFFQyxVQUFVQyxHQUFHLG1CQUFvQixXQUNULGdCQUF4QkQsU0FBU0UsWUFBZ0NILEVBQUVJLFFBQVFDLFNBQVcsS0FBT0wsRUFBRSxxQkFBcUJNLEtBQUtOLEVBQUUscUJBQXFCTyxLQUFLLGdCQUNyRyxnQkFBeEJOLFNBQVNFLFlBQWdDSCxFQUFFSSxRQUFRQyxTQUFXLEtBQU9MLEVBQUUsK0RBQStEUSxTQUFTUixFQUFFLDBCQUVuSkEsRUFBRUksUUFBUUYsR0FBRyxPQUFRLFdBS25CLFNBQVNPLEVBQVlDLEVBQVVDLEdBQzdCLElBQ0VDLFFBQVFDLGFBQWEsS0FBTSxLQUFNLEtBQ2pDLE1BQU9DLEdBQ1BDLFFBQVFDLElBQUlGLEdBR2RkLEVBQUVpQixLQUFLLENBQ0xOLElBQUtBLEVBQ0xPLEtBQU0sT0FDTkMsU0FBVSxPQUNWWixLQUFNUCxFQUFFLElBQU1VLEdBQVVVLFlBRXhCQyxRQUFTLFNBQWlCQyxHQUV4QixJQUFJQyxFQUFTdkIsRUFBRXdCLFVBQVVGLEdBQ3pCUCxRQUFRQyxJQUFJTyxJQUVkRSxNQUFPLFNBQWVILEdBRXBCSSxNQUFNLG9D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Q0FFaEQrRCxTQUFVLFNBQWtCTyxHQUMxQixJQUFJUixFQUFNUSxFQUFNUixJQUNoQkEsRUFBSW5ELFNBQVMsMEJBQTBCYixZQUFZLGlDQUNuRGdFLEVBQUluRCxTQUFTLHdCQUF3QmIsWUFBWSxtQ0FJdkR6QyxFQUFFSSxRQUFRQyxTQUFXLE9BQVNMLEVBQUUsNEJBQTRCc0QsU0FBUywwQkFBMEI5QyxTQUFTUixFQUFFLG1CQUFvQkEsRUFBRSxzQkFBc0IyQyxTQUFTLFdBQy9KdUUsWUFBWUMsSUFBSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbiQoZG9jdW1lbnQpLm9uKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIiAmJiAkKHdpbmRvdykud2lkdGgoKSA8PSA1MDAgJiYgJChcIi5oZWFkZXJfX2xvZy1saW5rXCIpLnRleHQoJChcIi5oZWFkZXJfX2xvZy1saW5rXCIpLmRhdGEoXCJtb2JpbGUtdGV4dFwiKSk7XG4gIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIiAmJiAkKHdpbmRvdykud2lkdGgoKSA8PSA3MDAgJiYgJCgnLnVzZXJfX2Fib3V0LCAudXNlcl9fZ3JpZCwgLnVzZXJfX2Fib3V0LXRleHQsIC51c2VyX19idXR0b24nKS5hcHBlbmRUbygkKCcuYm9hcmRfX2luZm9ybWF0aW9uJykpO1xufSk7XG4kKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgLy8gdmFyaWFibGVzXG4gIC8vIC92YXJpYWJsZXNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB1bml2ZXJzYWwgZnVuY3Rpb25cbiAgZnVuY3Rpb24gYWpheFJlcXVlc3QoYWpheEZvcm0sIHVybCkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBcIiNcIik7XG4gICAgfSBjYXRjaCAoeikge1xuICAgICAgY29uc29sZS5sb2coeik7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICBkYXRhOiAkKFwiLlwiICsgYWpheEZvcm0pLnNlcmlhbGl6ZSgpLFxuICAgICAgLy8g0KHQtdCw0YDQuNC70LjQt9GD0LXQvCDQvtCx0YrQtdC60YJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgLy/QlNCw0L3QvdGL0LUg0L7RgtC/0YDQsNCy0LvQtdC90Ysg0YPRgdC/0LXRiNC90L5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICQucGFyc2VKU09OKHJlc3BvbnNlKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IocmVzcG9uc2UpIHtcbiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC90LUg0L7RgtC/0YDQsNCy0LvQtdC90YtcbiAgICAgICAgYWxlcnQoXCLQntGI0LjQsdC60LAuINCU0LDQvdC90YvQtSDQvdC1INC+0YLQv9GA0LDQstC70LXQvdGLLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbEVtdWxhdGlvbigpIHtcbiAgICB2YXIgZG9jdW1lbnRXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgdmFyIHdpbmRvd3NXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB3aW5kb3dzV2lkdGggLSBkb2N1bWVudFdpZHRoO1xuICAgICQoXCJib2R5XCIpLmNzcyh7XG4gICAgICBcInBhZGRpbmctcmlnaHRcIjogXCJcIi5jb25jYXQoc2Nyb2xsYmFyV2lkdGgsIFwicHhcIilcbiAgICB9KTtcbiAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcImJsb2NrXCIpO1xuICB9IC8vICAvdW5pdmVyc2FsIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gZXZlbnRcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwYXJ0aWNpcGFudHMuaHRtbFxuXG5cbiAgJChcIiNwYXJ0aWNpcGFudHMtZmlsdGVyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiZmlsdGVyX19jb250YWluZXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBhcnRpY2lwYW50cy5odG1sXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgY2luZW1hLWhhbGwuaHRtbFxuXG4gICQoXCIjY2luZW1hLWhhbGwtZmlsdGVyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY2luZW1hLWhhbGwtZmlsdGVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBjaW5lbWEtaGFsbC5odG1sXG4gIC8vINCU0LDRgtGLINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbFxuXG4gICQoXCIjcG9zdGVyLWZpbHRlclwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImZpbHRlcl9fY29udGFpbmVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0JTQsNGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy1vbmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtb25lXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L7Qt9Cw0LtcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQotC10LDRgtGA0LDQu9GM0L3Ri9C5INC30LDQu1wiXG5cbiAgJChcIiNjcnVtYnMtdHdvXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLXR3b1wiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCi0LXQsNGC0YDQsNC70YzQvdGL0Lkg0LfQsNC7XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQvtC90YbQtdGA0YLQvdGL0Lkg0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy10aHJlZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy10aHJlZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0L7QvdGG0LXRgNGC0L3Ri9C5INC30LDQu1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCb0LjRgtC10YDQsNGC0YPRgNC90LDRjyDQs9C+0YHRgtC40L3QsNGPXCJcblxuICAkKFwiI2NydW1icy1mb3VyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLWZvdXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQm9C40YLQtdGA0LDRgtGD0YDQvdCw0Y8g0LPQvtGB0YLQuNC90LDRj1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCS0YvRgdGC0LDQstC60LBcIlxuXG4gICQoXCIjY3J1bWJzLWZpdmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtZml2ZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCS0YvRgdGC0LDQstC60LBcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+XCJcblxuICAkKFwiI2NpbmVtYS1jcnVtYnMtb25lXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY2luZW1hLWNydW1icy1vbmVcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBjaW5lbWEtaGFsbC5odG1sINCyINCx0LvQvtC60LUgXCLQkNC90LjQvNCw0YbQuNGPXCJcblxuICAkKFwiI2NpbmVtYS1jcnVtYnMtdHdvXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY2luZW1hLWNydW1icy10d29cIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCQ0L3QuNC80LDRhtC40Y9cIlxuXG4gICQoXCIuY3J1bWJzX19jcnVtYlwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImNydW1ic19fY3J1bWItLWFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY3J1bWItLWFjdGl2ZVwiKS5sZW5ndGggPT09IDAgPyAkKHRoaXMpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY2xlYXJcIikucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIikgOiAkKHRoaXMpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY2xlYXJcIikuYWRkQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIik7XG4gICAgJCgnW2RhdGEtbmFtZV0nKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xuICAgICAgY29uc29sZS5sb2coJChlbGVtZW50KVswXSk7XG4gICAgICBjb25zb2xlLmxvZygkKFwiW2RhdGEtbmFtZT1cIi5jb25jYXQoJChfdGhpcykuZGF0YSgndGFnLW5hbWUnKSwgXCJdXCIpKVswXSk7XG4gICAgICAkKGVsZW1lbnQpICE9PSAkKFwiW2RhdGEtbmFtZT1cIi5jb25jYXQoJChfdGhpcykuZGF0YSgndGFnLW5hbWUnKSwgXCJdXCIpKVswXSAmJiAkKGVsZW1lbnQpWzBdLmZhZGVUb2dnbGUoMTAwKTtcbiAgICB9KTtcbiAgfSk7XG4gICQoXCIuY3J1bWJzX19jbGVhclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY3J1bWJcIikucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NydW1iLS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY2xlYXItLWFjdGl2ZVwiKTtcbiAgfSk7XG4gICQoXCIjbWVudS1lbGVtZW50LW1vcmVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5tZW51X19kZXNrdG9wLW1vcmUtbGlzdFwiKS5zbGlkZVRvZ2dsZSg0MDApO1xuICAgICQoXCIjbWVudS1lbGVtZW50LW1vcmVcIikudG9nZ2xlQ2xhc3MoXCJtZW51X19kZXNrdG9wLWVsZW1lbnQtLW9wZW5cIik7XG4gIH0pO1xuICAkKFwiLmZpbHRlcnNfX3N3aXRjaC10ZXh0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJmaWx0ZXJzX19zd2l0Y2gtLWFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLm5leHQoKS5zbGlkZVRvZ2dsZSg0MDApO1xuICB9KTtcbiAgJChcIi5maWx0ZXJzX19zd2l0Y2gtbW9kYWwtbGFiZWxcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghJCh0aGlzKS5wYXJlbnRzKCcuY2luZW1hLWhhbGwnKS5sZW5ndGgpIHtcbiAgICAgIGlmICghJChlLnRhcmdldCkuaGFzQ2xhc3MoXCJmaWx0ZXJzX19zd2l0Y2gtbW9kYWwtbGFiZWwtLWN1c3RvbVwiKSkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoXCIuZmlsdGVyc19fc3dpdGNoXCIpLmNoaWxkcmVuKFwiLmZpbHRlcnNfX3N3aXRjaC10ZXh0XCIpLnRleHQoJChlLnRhcmdldCkudGV4dCgpKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKFwiLmZpbHRlcnNfX3N3aXRjaC1tb2RhbFwiKS50b2dnbGUoMCk7XG4gICAgICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJzX19zd2l0Y2hcIikudG9nZ2xlQ2xhc3MoXCJmaWx0ZXJzX19zd2l0Y2gtLWFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnZmlsdGVyc19fc3dpdGNoLW1vZGFsLWxhYmVsLS1hY3RpdmUnKTtcbiAgICAgIHZhciBhbW91bnQgPSAkKCcuZmlsdGVyc19fc3dpdGNoLW1vZGFsLWxhYmVsLS1hY3RpdmUnKS5sZW5ndGgsXG4gICAgICAgICAgaW5wdXQgPSAkKCcuZmlsdGVyc19fc3dpdGNoLXRleHQnKTtcbiAgICAgIGFtb3VudCA/IGFtb3VudCA9PT0gMSA/IGlucHV0LnRleHQoaW5wdXQuZGF0YSgndGV4dC1vbmUtY2hlY2snKS5yZXBsYWNlKCckJywgYW1vdW50KSkgOiBhbW91bnQgPD0gNCA/IGlucHV0LnRleHQoaW5wdXQuZGF0YSgndGV4dC1mb3VyLWNoZWNrJykucmVwbGFjZSgnJCcsIGFtb3VudCkpIDogaW5wdXQudGV4dChpbnB1dC5kYXRhKCd0ZXh0LW5pbmUtY2hlY2snKS5yZXBsYWNlKCckJywgYW1vdW50KSkgOiBpbnB1dC50ZXh0KGlucHV0LmRhdGEoJ3RleHQtZGVmYXVsdCcpKTtcbiAgICB9XG4gIH0pO1xuICAkKFwiLmZpbHRlcl9fZGF0ZS1lbGVtZW50XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoXCIuZmlsdGVyX19kYXRlLWVsZW1lbnRcIikucmVtb3ZlQ2xhc3MoXCJmaWx0ZXJfX2RhdGUtZWxlbWVudC0tYWN0aXZlXCIpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJmaWx0ZXJfX2RhdGUtZWxlbWVudC0tYWN0aXZlXCIpO1xuICB9KTtcbiAgJChcIi5tZW51X19idXJnZXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5tZW51XCIpLnRvZ2dsZUNsYXNzKFwibWVudS0tb3BlblwiKTtcbiAgfSk7XG4gIHBhZ2VZT2Zmc2V0ID8gJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKSA6ICQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKFwiaGVhZGVyLS1zY3JvbGxcIik7XG4gICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgcGFnZVlPZmZzZXQgPyAoJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKSwgJChcIi5tZW51X19kZXNrdG9wXCIpLmFkZENsYXNzKFwibWVudV9fZGVza3RvcC0tc2Nyb2xsXCIpKSA6ICgkKFwiLmhlYWRlclwiKS5yZW1vdmVDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpLCAkKFwiLm1lbnVfX2Rlc2t0b3BcIikucmVtb3ZlQ2xhc3MoXCJtZW51X19kZXNrdG9wLS1zY3JvbGxcIikpO1xuICB9KTtcbiAgJChcIi5wb3N0ZXItc2xpZGVyX19zdG9yaWVzXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc3RvcmllcyA9ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuc3Rvcmllc1wiKTtcbiAgICAoc3Rvcmllcy5sZW5ndGggfHwgJChlLnRhcmdldCkuaGFzQ2xhc3MoXCJzdG9yaWVzXCIpKSAmJiB0b2dnbGVNb2RhbChzdG9yaWVzLmluZGV4KCkpO1xuICB9KTtcbiAgJChcIi5tb2RhbF9fY2xvc2VcIikub24oXCJjbGlja1wiLCBjbG9zZU1vZGFsKTtcbiAgJChcIi5tb2RhbC1vdmVybGF5XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoXCJtb2RhbC1vdmVybGF5LS1hY3RpdmVcIikpIGNsb3NlTW9kYWwoKTtcbiAgfSk7XG4gICQoJy51c2VyX19idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKCcudXNlcl9fYWJvdXQtdGV4dC0tYWN0aXZlJykubGVuZ3RoKSB7XG4gICAgICAkKCcudXNlcl9fYWJvdXQtdGV4dCcpLnRvZ2dsZUNsYXNzKCd1c2VyX19hYm91dC10ZXh0LS1hY3RpdmUnKTtcbiAgICAgIHZhciBlbCA9ICQoJy51c2VyX19hYm91dC10ZXh0JyksXG4gICAgICAgICAgY3VySGVpZ2h0ID0gZWwuaGVpZ2h0KCksXG4gICAgICAgICAgYXV0b0hlaWdodCA9IGVsLmNzcygnaGVpZ2h0JywgJ2F1dG8nKS5oZWlnaHQoKTtcbiAgICAgIGVsLmhlaWdodChjdXJIZWlnaHQpLmFuaW1hdGUoe1xuICAgICAgICBoZWlnaHQ6IGF1dG9IZWlnaHRcbiAgICAgIH0sIDIwMCk7XG4gICAgICAkKCcudXNlcl9fYnV0dG9uJykudGV4dCgkKCcudXNlcl9fYnV0dG9uJykuZGF0YSgnc3dpdGNoLXRleHQtc3RhcnQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy51c2VyX19hYm91dC10ZXh0JykudG9nZ2xlQ2xhc3MoJ3VzZXJfX2Fib3V0LXRleHQtLWFjdGl2ZScpO1xuICAgICAgJCgnLnVzZXJfX2Fib3V0LXRleHQnKS5jc3MoJ2hlaWdodCcsICQoJy51c2VyX19hYm91dC10ZXh0JykuZGF0YSgndGV4dC1oZWlnaHQnKSk7XG4gICAgICAkKCcudXNlcl9fYnV0dG9uJykudGV4dCgkKCcudXNlcl9fYnV0dG9uJykuZGF0YSgnc3dpdGNoLXRleHQtZW5kJykpO1xuICAgIH1cbiAgfSk7XG4gICQoJyNib2FyZC10ZWFtJykub24oJ2NsaWNrJywgdG9nZ2xlQm9hcmRUYWIuYmluZCgkKCcjYm9hcmQtdGVhbScpLCBbJy5ib2FyZF9fd29yaycsICcuYm9hcmRfX2luZm9ybWF0aW9uJ10sICcuYm9hcmRfX3RlYW0nKSk7XG4gICQoJyNib2FyZC13b3JrJykub24oJ2NsaWNrJywgdG9nZ2xlQm9hcmRUYWIuYmluZCgkKCcjYm9hcmQtd29yaycpLCBbJy5ib2FyZF9fdGVhbScsICcuYm9hcmRfX2luZm9ybWF0aW9uJ10sICcuYm9hcmRfX3dvcmsnKSk7XG4gICQoJyNib2FyZC1pbmZvcm1hdGlvbicpLm9uKCdjbGljaycsIHRvZ2dsZUJvYXJkVGFiLmJpbmQoJCgnI2JvYXJkLWluZm9ybWF0aW9uJyksIFsnLmJvYXJkX190ZWFtJywgJy5ib2FyZF9fd29yayddLCAnLmJvYXJkX19pbmZvcm1hdGlvbicpKTsgLy8gL2V2ZW50XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gdW5pcXVlIGZ1bmN0aW9uXG5cbiAgZnVuY3Rpb24gdG9nZ2xlQm9hcmRUYWIoc2VsZWN0b3JPbGRCbG9ja3MsIHNlbGVjdG9yTmV3QmxvY2spIHtcbiAgICAkKCcuYm9hcmRfX2hlYWRlci10aXRsZScpLnJlbW92ZUNsYXNzKCdib2FyZF9faGVhZGVyLXRpdGxlLS1hY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdib2FyZF9faGVhZGVyLXRpdGxlLS1hY3RpdmUnKTtcbiAgICAkKHNlbGVjdG9yT2xkQmxvY2tzLmpvaW4oJywgJykpLmZhZGVPdXQoNDAwKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICQoc2VsZWN0b3JOZXdCbG9jaykuZmFkZUluKDQwMCk7XG4gICAgfSwgNDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZU1vZGFsKCkge1xuICAgIHZhciBpbml0TnVtYmVyU2xpZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHNjcm9sbEVtdWxhdGlvbigpO1xuICAgICQoXCIubW9kYWwtb3ZlcmxheVwiKS50b2dnbGVDbGFzcyhcIm1vZGFsLW92ZXJsYXktLWFjdGl2ZVwiKTtcbiAgICAkKFwiLm1vZGFsXCIpLnRvZ2dsZUNsYXNzKFwibW9kYWwtLWFjdGl2ZVwiKTtcbiAgICB2YXIgc3dpcGVyR2FsbGVyeSA9IG5ldyBTd2lwZXIoXCIubW9kYWxfX2NvbnRlbnRcIiwge1xuICAgICAgZWZmZWN0OiBcImNvdmVyZmxvd1wiLFxuICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICAgIGluaXRpYWxTbGlkZTogaW5pdE51bWJlclNsaWRlcixcbiAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiBcIi5zdG9yaWVzLWFycm93LXJpZ2h0XCIsXG4gICAgICAgIHByZXZFbDogXCIuc3Rvcmllcy1hcnJvdy1sZWZ0XCJcbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2Uoc3dpcGVyKSB7XG4gICAgICAgICAgcGxheVZpZGVvU3Rvcmllcyhzd2lwZXIpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgICAgIHBsYXlWaWRlb1N0b3JpZXMoc3dpcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheVZpZGVvU3RvcmllcyhfcmVmKSB7XG4gICAgdmFyIHNsaWRlcyA9IF9yZWYuc2xpZGVzLFxuICAgICAgICBhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXgsXG4gICAgICAgIHByZXZTbGlkZXMgPSBfcmVmLnByZXZTbGlkZXM7XG4gICAgdmFyIHZpZGVvU3RvcmllcyA9ICQoc2xpZGVzW2FjdGl2ZUluZGV4XSkuY2hpbGRyZW4oXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLFxuICAgICAgICBwcmV2VmlkZW9TdG9yaWVzID0gJChzbGlkZXNbYWN0aXZlSW5kZXggLSAxXSkuY2hpbGRyZW4oXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLFxuICAgICAgICBuZXh0VmlkZW9TdG9yaWVzID0gJChzbGlkZXNbYWN0aXZlSW5kZXggKyAxXSkuY2hpbGRyZW4oXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpO1xuICAgIHByZXZWaWRlb1N0b3JpZXMubGVuZ3RoICYmIHByZXZWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiLCBwcmV2VmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikpO1xuICAgIG5leHRWaWRlb1N0b3JpZXMubGVuZ3RoICYmIG5leHRWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiLCBuZXh0VmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikpO1xuICAgIHZpZGVvU3Rvcmllcy5sZW5ndGggJiYgdmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIiwgdmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikgKyBcIj9hdXRvcGxheT0xXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgICBzY3JvbGxFbXVsYXRpb24oKTtcbiAgICAkKFwiLm1vZGFsX19zbGlkZS12aWRlb1wiKS5hdHRyKFwic3JjXCIsICQoXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikpO1xuICAgICQoXCIubW9kYWwtb3ZlcmxheVwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsLW92ZXJsYXktLWFjdGl2ZVwiKTtcbiAgICAkKFwiLm1vZGFsXCIpLnJlbW92ZUNsYXNzKFwibW9kYWwtLWFjdGl2ZVwiKTtcbiAgfSAvLyAvdW5pcXVlIGZ1bmN0aW9uXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUGFnZSBsb2FkXG5cblxuICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcihcIi5wb3N0ZXItc2xpZGVyX19zbGlkZXJcIiwge1xuICAgIHNwYWNlQmV0d2VlbjogMjAsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1yaWdodFwiLFxuICAgICAgcHJldkVsOiBcIiNmaXJzdC1zbGlkZXItYXJyb3ctbGVmdFwiXG4gICAgfSxcbiAgICBvbjoge1xuICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKF9yZWYyKSB7XG4gICAgICAgIHZhciBzbGlkZXMgPSBfcmVmMi5zbGlkZXMsXG4gICAgICAgICAgICBhY3RpdmVJbmRleCA9IF9yZWYyLmFjdGl2ZUluZGV4O1xuICAgICAgICBzbGlkZXMuZWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPCBhY3RpdmVJbmRleCA/ICQoc2xpZGUpLmFkZENsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKSA6ICQoc2xpZGUpLnJlbW92ZUNsYXNzKFwic3dpcGVyLXNsaWRlLXByZXYtcHJldlwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVhY2hFbmQ6IGZ1bmN0aW9uIHJlYWNoRW5kKF9yZWYzKSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmMy4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikuYWRkQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9LFxuICAgICAgZnJvbUVkZ2U6IGZ1bmN0aW9uIGZyb21FZGdlKF9yZWY0KSB7XG4gICAgICAgIHZhciAkZWwgPSBfcmVmNC4kZWw7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19zaGFkb3dcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19zaGFkb3ctLWhpZGRlblwiKTtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX2RhcmtcIikucmVtb3ZlQ2xhc3MoXCJwb3N0ZXItc2xpZGVyX19kYXJrLS1oaWRkZW5cIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdmFyIHN3aXBlclN0b3JpZXMgPSBuZXcgU3dpcGVyKFwiLnBvc3Rlci1zbGlkZXJfX3N0b3JpZXNcIiwge1xuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgZ3JhYkN1cnNvcjogdHJ1ZSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IFwiI2ZpcnN0LXNsaWRlci1hcnJvdy1yaWdodFwiLFxuICAgICAgcHJldkVsOiBcIiNmaXJzdC1zbGlkZXItYXJyb3ctbGVmdFwiXG4gICAgfSxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgOTAxOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjVcbiAgICAgIH0sXG4gICAgICA1MDE6IHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMFxuICAgICAgfVxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShfcmVmNSkge1xuICAgICAgICB2YXIgc2xpZGVzID0gX3JlZjUuc2xpZGVzLFxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBfcmVmNS5hY3RpdmVJbmRleDtcbiAgICAgICAgc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlLCBpbmRleCkge1xuICAgICAgICAgIGluZGV4IDwgYWN0aXZlSW5kZXggPyAkKHNsaWRlKS5hZGRDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIikgOiAkKHNsaWRlKS5yZW1vdmVDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHJlYWNoRW5kOiBmdW5jdGlvbiByZWFjaEVuZChfcmVmNikge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjYuJGVsO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fc2hhZG93XCIpLmFkZENsYXNzKFwicG9zdGVyLXNsaWRlcl9fc2hhZG93LS1oaWRkZW5cIik7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19kYXJrXCIpLmFkZENsYXNzKFwicG9zdGVyLXNsaWRlcl9fZGFyay0taGlkZGVuXCIpO1xuICAgICAgfSxcbiAgICAgIGZyb21FZGdlOiBmdW5jdGlvbiBmcm9tRWRnZShfcmVmNykge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjcuJGVsO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fc2hhZG93XCIpLnJlbW92ZUNsYXNzKFwicG9zdGVyLXNsaWRlcl9fc2hhZG93LS1oaWRkZW5cIik7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19kYXJrXCIpLnJlbW92ZUNsYXNzKFwicG9zdGVyLXNsaWRlcl9fZGFyay0taGlkZGVuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gICQod2luZG93KS53aWR0aCgpIDw9IDEyOTkgJiYgKCQoXCIubWVudV9fZGVza3RvcC1tb3JlLWxpc3RcIikuY2hpbGRyZW4oXCIubWVudV9fZGVza3RvcC1lbGVtZW50XCIpLmFwcGVuZFRvKCQoXCIubWVudV9fZGVza3RvcFwiKSksICQoXCIjbWVudS1lbGVtZW50LW1vcmVcIikuYWRkQ2xhc3MoXCJkZWxldGVcIikpO1xuICBiYWd1ZXR0ZUJveC5ydW4oXCIuZ2FsbGVyeVwiKTsgLy8gL1BhZ2UgbG9hZFxufSk7Il19
