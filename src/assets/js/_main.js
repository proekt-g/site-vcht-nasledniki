"use strict";$(document).on("readystatechange",function(){"interactive"===document.readyState&&$(window).width()<=500&&$(".header__log-link").text($(".header__log-link").data("mobile-text")),"interactive"===document.readyState&&$(window).width()<=700&&$(".user__about, .user__grid, .hidden-text, .hidden-button").appendTo($(".board__information")),"interactive"===document.readyState&&$(window).width()<=1279&&$(".information__title, .user__about-text, .hidden-text, .user__about-button").appendTo($(".mobile__container")),"interactive"===document.readyState&&$(window).width()<=900&&$(".mobile__container").prepend($(".information__box")),"interactive"===document.readyState&&$(window).width()<=700&&$(".information__container").prepend($(".navigation"))}),$(window).on("load",function(){function t(e,t){try{history.replaceState(null,null,"#")}catch(e){console.log(e)}$.ajax({url:t,type:"POST",dataType:"html",data:$("."+e).serialize(),success:function(e){var t=$.parseJSON(e);console.log(t)},error:function(e){alert("Ошибка. Данные не отправлены.")}})}function i(){var e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;$("body").css({"padding-right":"".concat(t,"px")}),$("body").toggleClass("block")}function e(e,t){$(".board__header-title").removeClass("board__header-title--active"),$(this).addClass("board__header-title--active"),$(e.join(", ")).fadeOut(400),setTimeout(function(){$(t).fadeIn(400)},400)}function a(){var i=[];$(".content").fadeOut(100),$(".crumbs__crumb--active").each(function(e,a){$(".content").each(function(e,t){$(t).data("name")===$(a).data("tag-name")&&i.push(t)})}),console.log(i),$(i).length?$(i).fadeIn(100):$(".content").fadeIn(100)}function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=".modal-overlay".concat(t?'[data-name="'.concat(t,'"]'):"");$(".modal-overlay").data("pagination-text")&&$(".modal__slide-title").html($(".modal-overlay").data("pagination-text").replace(/\[.*\]$/,"")+' <span class="modal__slide-title-dark">'+$(".modal-overlay").data("pagination-text").replace(/.*\[/,"").replace(/\].*/,"").replace("$",'<span class="modal__slide-title-active">'.concat(e+1,"</span>")).replace("&",$(".modal__slide").length)+"</span>"),i(),$(a).toggleClass("modal-overlay--active"),$(a+" .modal").toggleClass("modal--active");new Swiper(a+" .modal__content",{effect:"coverflow",grabCursor:!0,spaceBetween:30,slidesPerView:"auto",initialSlide:e,navigation:{nextEl:".stories-arrow-right",prevEl:".stories-arrow-left"},on:{slideChange:function(e){n(e),$(".modal__slide-title-active").length&&$(".modal__slide-title-active").text(e.activeIndex+1)},init:function(e){n(e)}}})}function n(e){var t=e.slides,a=e.activeIndex,i=(e.prevSlides,$(t[a]).children(".modal__slide-video")),r=$(t[a-1]).children(".modal__slide-video"),n=$(t[a+1]).children(".modal__slide-video");r.length&&r.attr("src",r.attr("src").replace(/\?autoplay=1/gi,"")),n.length&&n.attr("src",n.attr("src").replace(/\?autoplay=1/gi,"")),i.length&&i.attr("src",i.attr("src").replace(/\?autoplay=1/gi,"")+"?autoplay=1")}function o(){i(),$(".modal__slide-video").length&&$(".modal__slide-video").attr("src",$(".modal__slide-video").attr("src").replace(/\?autoplay=1/gi,"")),$(".modal-overlay").removeClass("modal-overlay--active"),$(".modal").removeClass("modal--active")}$("#participants-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#cinema-hall-filter").on("input submit",function(e){e.preventDefault(),t("cinema-hall-filter","test.php")}),$("#literary-room-filter").on("input submit",function(e){e.preventDefault(),t("literary-room-filter","test.php")}),$("#poster-filter").on("input submit",function(e){e.preventDefault(),t("filter__container","test.php")}),$("#crumbs-one").on("input submit",function(e){e.preventDefault(),t("crumbs-one","test.php")}),$("#crumbs-two").on("input submit",function(e){e.preventDefault(),t("crumbs-two","test.php")}),$("#crumbs-three").on("input submit",function(e){e.preventDefault(),t("crumbs-three","test.php")}),$("#crumbs-four").on("input submit",function(e){e.preventDefault(),t("crumbs-four","test.php")}),$("#crumbs-five").on("input submit",function(e){e.preventDefault(),t("crumbs-five","test.php")}),$("#cinema-crumbs-one").on("input submit",function(e){e.preventDefault(),t("cinema-crumbs-one","test.php")}),$("#cinema-crumbs-two").on("input submit",function(e){e.preventDefault(),t("cinema-crumbs-two","test.php")}),$("#literary-crumbs-one").on("input submit",function(e){e.preventDefault(),t("literary-crumbs-one","test.php")}),$("#literary-crumbs-two").on("input submit",function(e){e.preventDefault(),t("literary-crumbs-two","test.php")}),$(".crumbs__crumb").on("click",function(e){$(e.target).parents(".filter-top").length&&($(this).toggleClass("crumbs__crumb--active"),a()),$(e.target).parents(".crumbs__crumb").toggleClass("crumbs__crumb--active"),0===$(e.target).parents(".crumbs").children(".crumbs__crumb--active").length?$(e.target).parents(".crumbs").children(".crumbs__clear").removeClass("crumbs__clear--active"):$(e.target).parents(".crumbs").children(".crumbs__clear").addClass("crumbs__clear--active")}),$(".crumbs__clear").on("click",function(){$(this).parents(".crumbs").children(".crumbs__crumb").removeClass("crumbs__crumb--active"),$(this).removeClass("crumbs__clear--active"),a()}),$("#menu-element-more").on("click",function(){$(".menu__desktop-more-list").slideToggle(400),$("#menu-element-more").toggleClass("menu__desktop-element--open")}),$(".filters__switch-text").on("click",function(){$(this).parent().toggleClass("filters__switch--active"),$(this).next().slideToggle(400)}),$(".filters__switch-modal-label").on("click",function(e){if($(this).parents(".cinema-hall").length){$(this).toggleClass("filters__switch-modal-label--active");var t=$(".filters__switch-modal-label--active").length,a=$(".filters__switch-text");t?1===t?a.text(a.data("text-one-check").replace("$",t)):t<=4?a.text(a.data("text-four-check").replace("$",t)):a.text(a.data("text-nine-check").replace("$",t)):a.text(a.data("text-default"))}else $(e.target).hasClass("filters__switch-modal-label--custom")||($(this).parents(".filters__switch").children(".filters__switch-text").text($(e.target).text()),$(this).parents(".filters__switch-modal").toggle(0),$(this).parents(".filters__switch").toggleClass("filters__switch--active"))}),$(".filter__date-element").on("click",function(){$(".filter__date-element").removeClass("filter__date-element--active"),$(this).addClass("filter__date-element--active")}),$(".menu__burger").on("click",function(){$(".menu").toggleClass("menu--open")}),pageYOffset?$(".header").addClass("header--scroll"):$(".header").removeClass("header--scroll"),$(window).on("scroll",function(){pageYOffset?($(".header").addClass("header--scroll"),$(".menu__desktop").addClass("menu__desktop--scroll")):($(".header").removeClass("header--scroll"),$(".menu__desktop").removeClass("menu__desktop--scroll"))}),$(".poster-slider__stories").on("click",function(e){var t=$(e.target).parents(".stories");(t.length||$(e.target).hasClass("stories"))&&r(t.index(),t.parents(".content").data("name"))}),$(".content__gallery").on("click",function(e){var t=$(e.target).parents(".content__gallery-item");(t.length||$(e.target).hasClass("content__gallery-item"))&&r(t.index())}),$(".modal__close").on("click",o),$(".modal-overlay").on("click",function(e){$(e.target).hasClass("modal-overlay--active")&&o()}),$(".hidden-button").on("click",function(){if($(".hidden-text--active").length)$(".hidden-text").toggleClass("hidden-text--active"),$(".hidden-text").css("height",$(".hidden-text").data("text-height")),$(".hidden-button").text($(".hidden-button").data("switch-text-end"));else{$(".hidden-text").toggleClass("hidden-text--active");var e=$(".hidden-text"),t=e.height(),a=e.css("height","auto").height();e.height(t).animate({height:a},200),$(".hidden-button").text($(".hidden-button").data("switch-text-start"))}}),$("#board-team").on("click",e.bind($("#board-team"),[".board__work",".board__information"],".board__team")),$("#board-work").on("click",e.bind($("#board-work"),[".board__team",".board__information"],".board__work")),$("#board-information").on("click",e.bind($("#board-information"),[".board__team",".board__work"],".board__information")),$(".filter-top__toggle-title").on("click",function(){$(".filter-top__toggle-title").removeClass("filter-top__toggle-title--active"),$(this).addClass("filter-top__toggle-title--active"),$(".content").fadeOut(100),$("[data-name=".concat($(this).data("tag-name"),"]")).fadeIn(100)});new Swiper(".poster-slider__slider",{spaceBetween:20,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},on:{slideChange:function(e){var t=e.slides,a=e.activeIndex;t.each(function(e,t){t<a?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}}),new Swiper(".poster-slider__stories",{spaceBetween:10,slidesPerView:"auto",grabCursor:!0,navigation:{nextEl:"#first-slider-arrow-right",prevEl:"#first-slider-arrow-left"},breakpoints:{901:{spaceBetween:25},501:{spaceBetween:20}},on:{slideChange:function(e){var t=e.slides,a=e.activeIndex;t.each(function(e,t){t<a?$(e).addClass("swiper-slide-prev-prev"):$(e).removeClass("swiper-slide-prev-prev")})},reachEnd:function(e){var t=e.$el;t.children(".poster-slider__shadow").addClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").addClass("poster-slider__dark--hidden")},fromEdge:function(e){var t=e.$el;t.children(".poster-slider__shadow").removeClass("poster-slider__shadow--hidden"),t.children(".poster-slider__dark").removeClass("poster-slider__dark--hidden")}}});$(window).width()<=1299&&($(".menu__desktop-more-list").children(".menu__desktop-element").appendTo($(".menu__desktop")),$("#menu-element-more").addClass("delete")),baguetteBox.run(".gallery");var s=Bricks({container:".content__gallery",packed:"data-grid",sizes:[{columns:1,gutter:20},{mq:"500px",columns:2,gutter:10},{mq:"700px",columns:3,gutter:10},{mq:"900px",columns:4,gutter:10},{mq:"1279px",columns:4,gutter:20}]});500<$(window).width()&&s.pack()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50Iiwib24iLCJyZWFkeVN0YXRlIiwid2luZG93Iiwid2lkdGgiLCJ0ZXh0IiwiZGF0YSIsImFwcGVuZFRvIiwicHJlcGVuZCIsImFqYXhSZXF1ZXN0IiwiYWpheEZvcm0iLCJ1cmwiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwieiIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwic2VyaWFsaXplIiwic3VjY2VzcyIsInJlc3BvbnNlIiwicmVzdWx0IiwicGFyc2VKU09OIiwiZXJyb3IiLCJhbGVydCIsInNjcm9sbEVtdWxhdGlvbiIsImRvY3VtZW50V2lkdGgiLCJwYXJzZUludCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2Nyb2xsYmFyV2lkdGgiLCJpbm5lcldpZHRoIiwiY3NzIiwicGFkZGluZy1yaWdodCIsImNvbmNhdCIsInRvZ2dsZUNsYXNzIiwidG9nZ2xlQm9hcmRUYWIiLCJzZWxlY3Rvck9sZEJsb2NrcyIsInNlbGVjdG9yTmV3QmxvY2siLCJyZW1vdmVDbGFzcyIsInRoaXMiLCJhZGRDbGFzcyIsImpvaW4iLCJmYWRlT3V0Iiwic2V0VGltZW91dCIsImZhZGVJbiIsImZpbHRlckNvbnRlbnRCbG9jayIsImFyckVsZW1lbnRzIiwiZWFjaCIsImluZGV4IiwiZWxlbWVudCIsImkiLCJlIiwicHVzaCIsImxlbmd0aCIsInRvZ2dsZU1vZGFsIiwiaW5pdE51bWJlclNsaWRlciIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm5hbWVNb2RhbCIsInNlbGVjdG9yU2xpZGVyIiwiaHRtbCIsInJlcGxhY2UiLCJTd2lwZXIiLCJlZmZlY3QiLCJncmFiQ3Vyc29yIiwic3BhY2VCZXR3ZWVuIiwic2xpZGVzUGVyVmlldyIsImluaXRpYWxTbGlkZSIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJzbGlkZUNoYW5nZSIsInN3aXBlciIsInBsYXlWaWRlb1N0b3JpZXMiLCJhY3RpdmVJbmRleCIsImluaXQiLCJfcmVmIiwic2xpZGVzIiwidmlkZW9TdG9yaWVzIiwicHJldlNsaWRlcyIsImNoaWxkcmVuIiwicHJldlZpZGVvU3RvcmllcyIsIm5leHRWaWRlb1N0b3JpZXMiLCJhdHRyIiwiY2xvc2VNb2RhbCIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwicGFyZW50cyIsInNsaWRlVG9nZ2xlIiwicGFyZW50IiwibmV4dCIsImFtb3VudCIsImlucHV0IiwiaGFzQ2xhc3MiLCJ0b2dnbGUiLCJwYWdlWU9mZnNldCIsInN0b3JpZXMiLCJlbCIsImN1ckhlaWdodCIsImhlaWdodCIsImF1dG9IZWlnaHQiLCJhbmltYXRlIiwiYmluZCIsIl9yZWYyIiwic2xpZGUiLCJyZWFjaEVuZCIsIl9yZWYzIiwiJGVsIiwiZnJvbUVkZ2UiLCJfcmVmNCIsImJyZWFrcG9pbnRzIiwiOTAxIiwiNTAxIiwiX3JlZjUiLCJfcmVmNiIsIl9yZWY3IiwiYmFndWV0dGVCb3giLCJydW4iLCJ0ZXN0IiwiQnJpY2tzIiwiY29udGFpbmVyIiwicGFja2VkIiwic2l6ZXMiLCJjb2x1bW5zIiwiZ3V0dGVyIiwibXEiLCJwYWNrIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxFQUFFQyxVQUFVQyxHQUFHLG1CQUFvQixXQUNULGdCQUF4QkQsU0FBU0UsWUFBZ0NILEVBQUVJLFFBQVFDLFNBQVcsS0FBT0wsRUFBRSxxQkFBcUJNLEtBQUtOLEVBQUUscUJBQXFCTyxLQUFLLGdCQUNyRyxnQkFBeEJOLFNBQVNFLFlBQWdDSCxFQUFFSSxRQUFRQyxTQUFXLEtBQU9MLEVBQUUsMkRBQTJEUSxTQUFTUixFQUFFLHdCQUNySCxnQkFBeEJDLFNBQVNFLFlBQWdDSCxFQUFFSSxRQUFRQyxTQUFXLE1BQVFMLEVBQUUsNkVBQTZFUSxTQUFTUixFQUFFLHVCQUN4SSxnQkFBeEJDLFNBQVNFLFlBQWdDSCxFQUFFSSxRQUFRQyxTQUFXLEtBQU9MLEVBQUUsc0JBQXNCUyxRQUFRVCxFQUFFLHNCQUMvRSxnQkFBeEJDLFNBQVNFLFlBQWdDSCxFQUFFSSxRQUFRQyxTQUFXLEtBQU9MLEVBQUUsMkJBQTJCUyxRQUFRVCxFQUFFLGtCQUU5R0EsRUFBRUksUUFBUUYsR0FBRyxPQUFRLFdBS25CLFNBQVNRLEVBQVlDLEVBQVVDLEdBQzdCLElBQ0VDLFFBQVFDLGFBQWEsS0FBTSxLQUFNLEtBQ2pDLE1BQU9DLEdBQ1BDLFFBQVFDLElBQUlGLEdBR2RmLEVBQUVrQixLQUFLLENBQ0xOLElBQUtBLEVBQ0xPLEtBQU0sT0FDTkMsU0FBVSxPQUNWYixLQUFNUCxFQUFFLElBQU1XLEdBQVVVLFlBRXhCQyxRQUFTLFNBQWlCQyxHQUV4QixJQUFJQyxFQUFTeEIsRUFBRXlCLFVBQVVGLEdBQ3pCUCxRQUFRQyxJQUFJTyxJQUVkRSxNQUFPLFNBQWVILEdBRXBCSSxNQUFNLG9DQUtaLFNBQVNDLElBQ1AsSUFBSUMsRUFBZ0JDLFNBQVM3QixTQUFTOEIsZ0JBQWdCQyxhQUVsREMsRUFEZUgsU0FBUzFCLE9BQU84QixZQUNDTCxFQUNwQzdCLEVBQUUsUUFBUW1DLElBQUksQ0FDWkMsZ0JBQWlCLEdBQUdDLE9BQU9KLEVBQWdCLFFBRTdDakMsRUFBRSxRQUFRc0MsWUFBWSxTQXVLeEIsU0FBU0MsRUFBZUMsRUFBbUJDLEdBQ3pDekMsRUFBRSx3QkFBd0IwQyxZQUFZLCtCQUN0QzFDLEVBQUUyQyxNQUFNQyxTQUFTLCtCQUNqQjVDLEVBQUV3QyxFQUFrQkssS0FBSyxPQUFPQyxRQUFRLEtBQ3hDQyxXQUFXLFdBQ1QvQyxFQUFFeUMsR0FBa0JPLE9BQU8sTUFDMUIsS0FHTCxTQUFTQyxJQUNQLElBQUlDLEVBQWMsR0FDbEJsRCxFQUFFLFlBQVk4QyxRQUFRLEtBQ3RCOUMsRUFBRSwwQkFBMEJtRCxLQUFLLFNBQVVDLEVBQU9DLEdBQ2hEckQsRUFBRSxZQUFZbUQsS0FBSyxTQUFVRyxFQUFHQyxHQUM5QnZELEVBQUV1RCxHQUFHaEQsS0FBSyxVQUFZUCxFQUFFcUQsR0FBUzlDLEtBQUssYUFBZTJDLEVBQVlNLEtBQUtELE9BRzFFdkMsUUFBUUMsSUFBSWlDLEdBQ1psRCxFQUFFa0QsR0FBYU8sT0FBU3pELEVBQUVrRCxHQUFhRixPQUFPLEtBQU9oRCxFQUFFLFlBQVlnRCxPQUFPLEtBRzVFLFNBQVNVLElBQ1AsSUFBSUMsRUFBc0MsRUFBbkJDLFVBQVVILGFBQStCSSxJQUFqQkQsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEVBQ3ZGRSxFQUErQixFQUFuQkYsVUFBVUgsYUFBK0JJLElBQWpCRCxVQUFVLElBQW1CQSxVQUFVLEdBQzNFRyxFQUFpQixpQkFBaUIxQixPQUFPeUIsRUFBWSxlQUFnQnpCLE9BQU95QixFQUFXLE1BQVMsSUFDcEc5RCxFQUFFLGtCQUFrQk8sS0FBSyxvQkFBc0JQLEVBQUUsdUJBQXVCZ0UsS0FBS2hFLEVBQUUsa0JBQWtCTyxLQUFLLG1CQUFtQjBELFFBQVEsVUFBVyxJQUFNLDBDQUE0Q2pFLEVBQUUsa0JBQWtCTyxLQUFLLG1CQUFtQjBELFFBQVEsT0FBUSxJQUFJQSxRQUFRLE9BQVEsSUFBSUEsUUFBUSxJQUFLLDJDQUE2QzVCLE9BQU9zQixFQUFtQixFQUFHLFlBQVlNLFFBQVEsSUFBS2pFLEVBQUUsaUJBQWlCeUQsUUFBVSxXQUMvWjdCLElBQ0E1QixFQUFFK0QsR0FBZ0J6QixZQUFZLHlCQUM5QnRDLEVBQUUrRCxFQUFpQixXQUFXekIsWUFBWSxpQkFDdEIsSUFBSTRCLE9BQU9ILEVBQWlCLG1CQUFvQixDQUNsRUksT0FBUSxZQUNSQyxZQUFZLEVBQ1pDLGFBQWMsR0FDZEMsY0FBZSxPQUNmQyxhQUFjWixFQUNkYSxXQUFZLENBQ1ZDLE9BQVEsdUJBQ1JDLE9BQVEsdUJBRVZ4RSxHQUFJLENBQ0Z5RSxZQUFhLFNBQXFCQyxHQUNoQ0MsRUFBaUJELEdBQ2pCNUUsRUFBRSw4QkFBOEJ5RCxRQUFVekQsRUFBRSw4QkFBOEJNLEtBQUtzRSxFQUFPRSxZQUFjLElBRXRHQyxLQUFNLFNBQWNILEdBQ2xCQyxFQUFpQkQsT0FNekIsU0FBU0MsRUFBaUJHLEdBQ3hCLElBQUlDLEVBQVNELEVBQUtDLE9BQ2RILEVBQWNFLEVBQUtGLFlBRW5CSSxHQURhRixFQUFLRyxXQUNIbkYsRUFBRWlGLEVBQU9ILElBQWNNLFNBQVMsd0JBQy9DQyxFQUFtQnJGLEVBQUVpRixFQUFPSCxFQUFjLElBQUlNLFNBQVMsdUJBQ3ZERSxFQUFtQnRGLEVBQUVpRixFQUFPSCxFQUFjLElBQUlNLFNBQVMsdUJBQzNEQyxFQUFpQjVCLFFBQVU0QixFQUFpQkUsS0FBSyxNQUFPRixFQUFpQkUsS0FBSyxPQUFPdEIsUUFBUSxpQkFBa0IsS0FDL0dxQixFQUFpQjdCLFFBQVU2QixFQUFpQkMsS0FBSyxNQUFPRCxFQUFpQkMsS0FBSyxPQUFPdEIsUUFBUSxpQkFBa0IsS0FDL0dpQixFQUFhekIsUUFBVXlCLEVBQWFLLEtBQUssTUFBT0wsRUFBYUssS0FBSyxPQUFPdEIsUUFBUSxpQkFBa0IsSUFBTSxlQUczRyxTQUFTdUIsSUFDUDVELElBQ0E1QixFQUFFLHVCQUF1QnlELFFBQVV6RCxFQUFFLHVCQUF1QnVGLEtBQUssTUFBT3ZGLEVBQUUsdUJBQXVCdUYsS0FBSyxPQUFPdEIsUUFBUSxpQkFBa0IsS0FDdklqRSxFQUFFLGtCQUFrQjBDLFlBQVkseUJBQ2hDMUMsRUFBRSxVQUFVMEMsWUFBWSxpQkFuTzFCMUMsRUFBRSx3QkFBd0JFLEdBQUcsZUFBZ0IsU0FBVXFELEdBQ3JEQSxFQUFFa0MsaUJBQ0YvRSxFQUFZLG9CQUFxQixjQUluQ1YsRUFBRSx1QkFBdUJFLEdBQUcsZUFBZ0IsU0FBVXFELEdBQ3BEQSxFQUFFa0MsaUJBQ0YvRSxFQUFZLHFCQUFzQixjQUlwQ1YsRUFBRSx5QkFBeUJFLEdBQUcsZUFBZ0IsU0FBVXFELEdBQ3REQSxFQUFFa0MsaUJBQ0YvRSxFQUFZLHVCQUF3QixjQUl0Q1YsRUFBRSxrQkFBa0JFLEdBQUcsZUFBZ0IsU0FBVXFELEdBQy9DQSxFQUFFa0MsaUJBQ0YvRSxFQUFZLG9CQUFxQixjQUluQ1YsRUFBRSxlQUFlRSxHQUFHLGVBQWdCLFNBQVVxRCxHQUM1Q0EsRUFBRWtDLGlCQUNGL0UsRUFBWSxhQUFjLGNBSTVCVixFQUFFLGVBQWVFLEdBQUcsZUFBZ0IsU0FBVXFELEdBQzVDQSxFQUFFa0MsaUJBQ0YvRSxFQUFZLGFBQWMsY0FJNUJWLEVBQUUsaUJBQWlCRSxHQUFHLGVBQWdCLFNBQVVxRCxHQUM5Q0EsRUFBRWtDLGlCQUNGL0UsRUFBWSxlQUFnQixjQUk5QlYsRUFBRSxnQkFBZ0JFLEdBQUcsZUFBZ0IsU0FBVXFELEdBQzdDQSxFQUFFa0MsaUJBQ0YvRSxFQUFZLGNBQWUsY0FJN0JWLEVBQUUsZ0JBQWdCRSxHQUFHLGVBQWdCLFNBQVVxRCxHQUM3Q0EsRUFBRWtDLGlCQUNGL0UsRUFBWSxjQUFlLGNBSTdCVixFQUFFLHNCQUFzQkUsR0FBRyxlQUFnQixTQUFVcUQsR0FDbkRBLEVBQUVrQyxpQkFDRi9FLEVBQVksb0JBQXFCLGNBSW5DVixFQUFFLHNCQUFzQkUsR0FBRyxlQUFnQixTQUFVcUQsR0FDbkRBLEVBQUVrQyxpQkFDRi9FLEVBQVksb0JBQXFCLGNBSW5DVixFQUFFLHdCQUF3QkUsR0FBRyxlQUFnQixTQUFVcUQsR0FDckRBLEVBQUVrQyxpQkFDRi9FLEVBQVksc0JBQXVCLGNBSXJDVixFQUFFLHdCQUF3QkUsR0FBRyxlQUFnQixTQUFVcUQsR0FDckRBLEVBQUVrQyxpQkFDRi9FLEVBQVksc0JBQXVCLGNBR3JDVixFQUFFLGtCQUFrQkUsR0FBRyxRQUFTLFNBQVVxRCxHQUN4Q3ZELEVBQUV1RCxFQUFFbUMsUUFBUUMsUUFBUSxlQUFlbEMsU0FBV3pELEVBQUUyQyxNQUFNTCxZQUFZLHlCQUEwQlcsS0FDNUZqRCxFQUFFdUQsRUFBRW1DLFFBQVFDLFFBQVEsa0JBQWtCckQsWUFBWSx5QkFDMkIsSUFBN0V0QyxFQUFFdUQsRUFBRW1DLFFBQVFDLFFBQVEsV0FBV1AsU0FBUywwQkFBMEIzQixPQUFlekQsRUFBRXVELEVBQUVtQyxRQUFRQyxRQUFRLFdBQVdQLFNBQVMsa0JBQWtCMUMsWUFBWSx5QkFBMkIxQyxFQUFFdUQsRUFBRW1DLFFBQVFDLFFBQVEsV0FBV1AsU0FBUyxrQkFBa0J4QyxTQUFTLDJCQUV2UDVDLEVBQUUsa0JBQWtCRSxHQUFHLFFBQVMsV0FDOUJGLEVBQUUyQyxNQUFNZ0QsUUFBUSxXQUFXUCxTQUFTLGtCQUFrQjFDLFlBQVkseUJBQ2xFMUMsRUFBRTJDLE1BQU1ELFlBQVkseUJBQ3BCTyxNQUVGakQsRUFBRSxzQkFBc0JFLEdBQUcsUUFBUyxXQUNsQ0YsRUFBRSw0QkFBNEI0RixZQUFZLEtBQzFDNUYsRUFBRSxzQkFBc0JzQyxZQUFZLGlDQUV0Q3RDLEVBQUUseUJBQXlCRSxHQUFHLFFBQVMsV0FDckNGLEVBQUUyQyxNQUFNa0QsU0FBU3ZELFlBQVksMkJBQzdCdEMsRUFBRTJDLE1BQU1tRCxPQUFPRixZQUFZLE9BRTdCNUYsRUFBRSxnQ0FBZ0NFLEdBQUcsUUFBUyxTQUFVcUQsR0FDdEQsR0FBS3ZELEVBQUUyQyxNQUFNZ0QsUUFBUSxnQkFBZ0JsQyxPQU05QixDQUNMekQsRUFBRTJDLE1BQU1MLFlBQVksdUNBQ3BCLElBQUl5RCxFQUFTL0YsRUFBRSx3Q0FBd0N5RCxPQUNuRHVDLEVBQVFoRyxFQUFFLHlCQUNkK0YsRUFBb0IsSUFBWEEsRUFBZUMsRUFBTTFGLEtBQUswRixFQUFNekYsS0FBSyxrQkFBa0IwRCxRQUFRLElBQUs4QixJQUFXQSxHQUFVLEVBQUlDLEVBQU0xRixLQUFLMEYsRUFBTXpGLEtBQUssbUJBQW1CMEQsUUFBUSxJQUFLOEIsSUFBV0MsRUFBTTFGLEtBQUswRixFQUFNekYsS0FBSyxtQkFBbUIwRCxRQUFRLElBQUs4QixJQUFXQyxFQUFNMUYsS0FBSzBGLEVBQU16RixLQUFLLHNCQVR6UFAsRUFBRXVELEVBQUVtQyxRQUFRTyxTQUFTLHlDQUN4QmpHLEVBQUUyQyxNQUFNZ0QsUUFBUSxvQkFBb0JQLFNBQVMseUJBQXlCOUUsS0FBS04sRUFBRXVELEVBQUVtQyxRQUFRcEYsUUFDdkZOLEVBQUUyQyxNQUFNZ0QsUUFBUSwwQkFBMEJPLE9BQU8sR0FDakRsRyxFQUFFMkMsTUFBTWdELFFBQVEsb0JBQW9CckQsWUFBWSw4QkFTdER0QyxFQUFFLHlCQUF5QkUsR0FBRyxRQUFTLFdBQ3JDRixFQUFFLHlCQUF5QjBDLFlBQVksZ0NBQ3ZDMUMsRUFBRTJDLE1BQU1DLFNBQVMsa0NBRW5CNUMsRUFBRSxpQkFBaUJFLEdBQUcsUUFBUyxXQUM3QkYsRUFBRSxTQUFTc0MsWUFBWSxnQkFFekI2RCxZQUFjbkcsRUFBRSxXQUFXNEMsU0FBUyxrQkFBb0I1QyxFQUFFLFdBQVcwQyxZQUFZLGtCQUNqRjFDLEVBQUVJLFFBQVFGLEdBQUcsU0FBVSxXQUNyQmlHLGFBQWVuRyxFQUFFLFdBQVc0QyxTQUFTLGtCQUFtQjVDLEVBQUUsa0JBQWtCNEMsU0FBUywyQkFBNkI1QyxFQUFFLFdBQVcwQyxZQUFZLGtCQUFtQjFDLEVBQUUsa0JBQWtCMEMsWUFBWSw0QkFFaE0xQyxFQUFFLDJCQUEyQkUsR0FBRyxRQUFTLFNBQVVxRCxHQUNqRCxJQUFJNkMsRUFBVXBHLEVBQUV1RCxFQUFFbUMsUUFBUUMsUUFBUSxhQUNqQ1MsRUFBUTNDLFFBQVV6RCxFQUFFdUQsRUFBRW1DLFFBQVFPLFNBQVMsYUFBZXZDLEVBQVkwQyxFQUFRaEQsUUFBU2dELEVBQVFULFFBQVEsWUFBWXBGLEtBQUssV0FFdkhQLEVBQUUscUJBQXFCRSxHQUFHLFFBQVMsU0FBVXFELEdBQzNDLElBQUk2QyxFQUFVcEcsRUFBRXVELEVBQUVtQyxRQUFRQyxRQUFRLDJCQUNqQ1MsRUFBUTNDLFFBQVV6RCxFQUFFdUQsRUFBRW1DLFFBQVFPLFNBQVMsMkJBQTZCdkMsRUFBWTBDLEVBQVFoRCxXQUUzRnBELEVBQUUsaUJBQWlCRSxHQUFHLFFBQVNzRixHQUMvQnhGLEVBQUUsa0JBQWtCRSxHQUFHLFFBQVMsU0FBVXFELEdBQ3BDdkQsRUFBRXVELEVBQUVtQyxRQUFRTyxTQUFTLDBCQUEwQlQsTUFFckR4RixFQUFFLGtCQUFrQkUsR0FBRyxRQUFTLFdBQzlCLEdBQUtGLEVBQUUsd0JBQXdCeUQsT0FVN0J6RCxFQUFFLGdCQUFnQnNDLFlBQVksdUJBQzlCdEMsRUFBRSxnQkFBZ0JtQyxJQUFJLFNBQVVuQyxFQUFFLGdCQUFnQk8sS0FBSyxnQkFDdkRQLEVBQUUsa0JBQWtCTSxLQUFLTixFQUFFLGtCQUFrQk8sS0FBSyx3QkFaYixDQUNyQ1AsRUFBRSxnQkFBZ0JzQyxZQUFZLHVCQUM5QixJQUFJK0QsRUFBS3JHLEVBQUUsZ0JBQ1BzRyxFQUFZRCxFQUFHRSxTQUNmQyxFQUFhSCxFQUFHbEUsSUFBSSxTQUFVLFFBQVFvRSxTQUMxQ0YsRUFBR0UsT0FBT0QsR0FBV0csUUFBUSxDQUMzQkYsT0FBUUMsR0FDUCxLQUNIeEcsRUFBRSxrQkFBa0JNLEtBQUtOLEVBQUUsa0JBQWtCTyxLQUFLLHlCQU90RFAsRUFBRSxlQUFlRSxHQUFHLFFBQVNxQyxFQUFlbUUsS0FBSzFHLEVBQUUsZUFBZ0IsQ0FBQyxlQUFnQix1QkFBd0IsaUJBQzVHQSxFQUFFLGVBQWVFLEdBQUcsUUFBU3FDLEVBQWVtRSxLQUFLMUcsRUFBRSxlQUFnQixDQUFDLGVBQWdCLHVCQUF3QixpQkFDNUdBLEVBQUUsc0JBQXNCRSxHQUFHLFFBQVNxQyxFQUFlbUUsS0FBSzFHLEVBQUUsc0JBQXVCLENBQUMsZUFBZ0IsZ0JBQWlCLHdCQUNuSEEsRUFBRSw2QkFBNkJFLEdBQUcsUUFBUyxXQUN6Q0YsRUFBRSw2QkFBNkIwQyxZQUFZLG9DQUMzQzFDLEVBQUUyQyxNQUFNQyxTQUFTLG9DQUNqQjVDLEVBQUUsWUFBWThDLFFBQVEsS0FDdEI5QyxFQUFFLGNBQWNxQyxPQUFPckMsRUFBRTJDLE1BQU1wQyxLQUFLLFlBQWEsTUFBTXlDLE9BQU8sT0E4RW5ELElBQUlrQixPQUFPLHlCQUEwQixDQUNoREcsYUFBYyxHQUNkQyxjQUFlLE9BQ2ZGLFlBQVksRUFDWkksV0FBWSxDQUNWQyxPQUFRLDRCQUNSQyxPQUFRLDRCQUVWeEUsR0FBSSxDQUNGeUUsWUFBYSxTQUFxQmdDLEdBQ2hDLElBQUkxQixFQUFTMEIsRUFBTTFCLE9BQ2ZILEVBQWM2QixFQUFNN0IsWUFDeEJHLEVBQU85QixLQUFLLFNBQVV5RCxFQUFPeEQsR0FDM0JBLEVBQVEwQixFQUFjOUUsRUFBRTRHLEdBQU9oRSxTQUFTLDBCQUE0QjVDLEVBQUU0RyxHQUFPbEUsWUFBWSw2QkFHN0ZtRSxTQUFVLFNBQWtCQyxHQUMxQixJQUFJQyxFQUFNRCxFQUFNQyxJQUNoQkEsRUFBSTNCLFNBQVMsMEJBQTBCeEMsU0FBUyxpQ0FDaERtRSxFQUFJM0IsU0FBUyx3QkFBd0J4QyxTQUFTLGdDQUVoRG9FLFNBQVUsU0FBa0JDLEdBQzFCLElBQUlGLEVBQU1FLEVBQU1GLElBQ2hCQSxFQUFJM0IsU0FBUywwQkFBMEIxQyxZQUFZLGlDQUNuRHFFLEVBQUkzQixTQUFTLHdCQUF3QjFDLFlBQVksbUNBSW5DLElBQUl3QixPQUFPLDBCQUEyQixDQUN4REcsYUFBYyxHQUNkQyxjQUFlLE9BQ2ZGLFlBQVksRUFDWkksV0FBWSxDQUNWQyxPQUFRLDRCQUNSQyxPQUFRLDRCQUVWd0MsWUFBYSxDQUNYQyxJQUFLLENBQ0g5QyxhQUFjLElBRWhCK0MsSUFBSyxDQUNIL0MsYUFBYyxLQUdsQm5FLEdBQUksQ0FDRnlFLFlBQWEsU0FBcUIwQyxHQUNoQyxJQUFJcEMsRUFBU29DLEVBQU1wQyxPQUNmSCxFQUFjdUMsRUFBTXZDLFlBQ3hCRyxFQUFPOUIsS0FBSyxTQUFVeUQsRUFBT3hELEdBQzNCQSxFQUFRMEIsRUFBYzlFLEVBQUU0RyxHQUFPaEUsU0FBUywwQkFBNEI1QyxFQUFFNEcsR0FBT2xFLFlBQVksNkJBRzdGbUUsU0FBVSxTQUFrQlMsR0FDMUIsSUFBSVAsRUFBTU8sRUFBTVAsSUFDaEJBLEVBQUkzQixTQUFTLDBCQUEwQnhDLFNBQVMsaUNBQ2hEbUUsRUFBSTNCLFNBQVMsd0JBQXdCeEMsU0FBUyxnQ0FFaERvRSxTQUFVLFNBQWtCTyxHQUMxQixJQUFJUixFQUFNUSxFQUFNUixJQUNoQkEsRUFBSTNCLFNBQVMsMEJBQTBCMUMsWUFBWSxpQ0FDbkRxRSxFQUFJM0IsU0FBUyx3QkFBd0IxQyxZQUFZLG1DQUl2RDFDLEVBQUVJLFFBQVFDLFNBQVcsT0FBU0wsRUFBRSw0QkFBNEJvRixTQUFTLDBCQUEwQjVFLFNBQVNSLEVBQUUsbUJBQW9CQSxFQUFFLHNCQUFzQjRDLFNBQVMsV0FDL0o0RSxZQUFZQyxJQUFJLFlBRWhCLElBQUlDLEVBQU9DLE9BQU8sQ0FDaEJDLFVBQVcsb0JBQ1hDLE9BQVEsWUFDUkMsTUFBTyxDQUFDLENBQ05DLFFBQVMsRUFDVEMsT0FBUSxJQUNQLENBQ0RDLEdBQUksUUFDSkYsUUFBUyxFQUNUQyxPQUFRLElBQ1AsQ0FDREMsR0FBSSxRQUNKRixRQUFTLEVBQ1RDLE9BQVEsSUFDUCxDQUNEQyxHQUFJLFFBQ0pGLFFBQVMsRUFDVEMsT0FBUSxJQUNQLENBQ0RDLEdBQUksU0FDSkYsUUFBUyxFQUNUQyxPQUFRLE9BR1EsSUFBcEJoSSxFQUFFSSxRQUFRQyxTQUFpQnFILEVBQUtRIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuJChkb2N1bWVudCkub24oXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiICYmICQod2luZG93KS53aWR0aCgpIDw9IDUwMCAmJiAkKFwiLmhlYWRlcl9fbG9nLWxpbmtcIikudGV4dCgkKFwiLmhlYWRlcl9fbG9nLWxpbmtcIikuZGF0YShcIm1vYmlsZS10ZXh0XCIpKTtcbiAgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiICYmICQod2luZG93KS53aWR0aCgpIDw9IDcwMCAmJiAkKCcudXNlcl9fYWJvdXQsIC51c2VyX19ncmlkLCAuaGlkZGVuLXRleHQsIC5oaWRkZW4tYnV0dG9uJykuYXBwZW5kVG8oJCgnLmJvYXJkX19pbmZvcm1hdGlvbicpKTtcbiAgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiICYmICQod2luZG93KS53aWR0aCgpIDw9IDEyNzkgJiYgJCgnLmluZm9ybWF0aW9uX190aXRsZSwgLnVzZXJfX2Fib3V0LXRleHQsIC5oaWRkZW4tdGV4dCwgLnVzZXJfX2Fib3V0LWJ1dHRvbicpLmFwcGVuZFRvKCQoJy5tb2JpbGVfX2NvbnRhaW5lcicpKTtcbiAgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiICYmICQod2luZG93KS53aWR0aCgpIDw9IDkwMCAmJiAkKCcubW9iaWxlX19jb250YWluZXInKS5wcmVwZW5kKCQoJy5pbmZvcm1hdGlvbl9fYm94JykpO1xuICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIgJiYgJCh3aW5kb3cpLndpZHRoKCkgPD0gNzAwICYmICQoJy5pbmZvcm1hdGlvbl9fY29udGFpbmVyJykucHJlcGVuZCgkKCcubmF2aWdhdGlvbicpKTtcbn0pO1xuJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gIC8vIHZhcmlhYmxlc1xuICAvLyAvdmFyaWFibGVzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gdW5pdmVyc2FsIGZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGFqYXhSZXF1ZXN0KGFqYXhGb3JtLCB1cmwpIHtcbiAgICB0cnkge1xuICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgXCIjXCIpO1xuICAgIH0gY2F0Y2ggKHopIHtcbiAgICAgIGNvbnNvbGUubG9nKHopO1xuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6IHVybCxcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgZGF0YTogJChcIi5cIiArIGFqYXhGb3JtKS5zZXJpYWxpemUoKSxcbiAgICAgIC8vINCh0LXQsNGA0LjQu9C40LfRg9C10Lwg0L7QsdGK0LXQutGCXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgIC8v0JTQsNC90L3Ri9C1INC+0YLQv9GA0LDQstC70LXQvdGLINGD0YHQv9C10YjQvdC+XG4gICAgICAgIHZhciByZXN1bHQgPSAkLnBhcnNlSlNPTihyZXNwb25zZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vINCU0LDQvdC90YvQtSDQvdC1INC+0YLQv9GA0LDQstC70LXQvdGLXG4gICAgICAgIGFsZXJ0KFwi0J7RiNC40LHQutCwLiDQlNCw0L3QvdGL0LUg0L3QtSDQvtGC0L/RgNCw0LLQu9C10L3Riy5cIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxFbXVsYXRpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50V2lkdGggPSBwYXJzZUludChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgIHZhciB3aW5kb3dzV2lkdGggPSBwYXJzZUludCh3aW5kb3cuaW5uZXJXaWR0aCk7XG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gd2luZG93c1dpZHRoIC0gZG9jdW1lbnRXaWR0aDtcbiAgICAkKFwiYm9keVwiKS5jc3Moe1xuICAgICAgXCJwYWRkaW5nLXJpZ2h0XCI6IFwiXCIuY29uY2F0KHNjcm9sbGJhcldpZHRoLCBcInB4XCIpXG4gICAgfSk7XG4gICAgJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJibG9ja1wiKTtcbiAgfSAvLyAgL3VuaXZlcnNhbCBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIGV2ZW50XG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcGFydGljaXBhbnRzLmh0bWxcblxuXG4gICQoXCIjcGFydGljaXBhbnRzLWZpbHRlclwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImZpbHRlcl9fY29udGFpbmVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwYXJ0aWNpcGFudHMuaHRtbFxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWxcblxuICAkKFwiI2NpbmVtYS1oYWxsLWZpbHRlclwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNpbmVtYS1oYWxsLWZpbHRlclwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgY2luZW1hLWhhbGwuaHRtbFxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGxpdGVyYXJ5LXJvb20uaHRtbFxuXG4gICQoXCIjbGl0ZXJhcnktcm9vbS1maWx0ZXJcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJsaXRlcmFyeS1yb29tLWZpbHRlclwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgbGl0ZXJhcnktcm9vbS5odG1sXG4gIC8vINCU0LDRgtGLINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbFxuXG4gICQoXCIjcG9zdGVyLWZpbHRlclwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImZpbHRlcl9fY29udGFpbmVyXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0JTQsNGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy1vbmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtb25lXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQuNC90L7Qt9Cw0LtcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQotC10LDRgtGA0LDQu9GM0L3Ri9C5INC30LDQu1wiXG5cbiAgJChcIiNjcnVtYnMtdHdvXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLXR3b1wiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCi0LXQsNGC0YDQsNC70YzQvdGL0Lkg0LfQsNC7XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBwb3N0ZXIuaHRtbCDQsiDQsdC70L7QutC1IFwi0JrQvtC90YbQtdGA0YLQvdGL0Lkg0LfQsNC7XCJcblxuICAkKFwiI2NydW1icy10aHJlZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImNydW1icy10aHJlZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0L7QvdGG0LXRgNGC0L3Ri9C5INC30LDQu1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCb0LjRgtC10YDQsNGC0YPRgNC90LDRjyDQs9C+0YHRgtC40L3QsNGPXCJcblxuICAkKFwiI2NydW1icy1mb3VyXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY3J1bWJzLWZvdXJcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IHBvc3Rlci5odG1sINCyINCx0LvQvtC60LUgXCLQm9C40YLQtdGA0LDRgtGD0YDQvdCw0Y8g0LPQvtGB0YLQuNC90LDRj1wiXG4gIC8vINCk0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCS0YvRgdGC0LDQstC60LBcIlxuXG4gICQoXCIjY3J1bWJzLWZpdmVcIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJjcnVtYnMtZml2ZVwiLCBcInRlc3QucGhwXCIpO1xuICB9KTsgLy8gL9Ck0LjQu9GM0YLRgCDQvdCwINGB0YLRgNCw0L3QuNGG0LUgcG9zdGVyLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCS0YvRgdGC0LDQstC60LBcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+XCJcblxuICAkKFwiI2NpbmVtYS1jcnVtYnMtb25lXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY2luZW1hLWNydW1icy1vbmVcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCa0LjQvdC+XCJcbiAgLy8g0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBjaW5lbWEtaGFsbC5odG1sINCyINCx0LvQvtC60LUgXCLQkNC90LjQvNCw0YbQuNGPXCJcblxuICAkKFwiI2NpbmVtYS1jcnVtYnMtdHdvXCIpLm9uKFwiaW5wdXQgc3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFqYXhSZXF1ZXN0KFwiY2luZW1hLWNydW1icy10d29cIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGNpbmVtYS1oYWxsLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCQ0L3QuNC80LDRhtC40Y9cIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGxpdGVyYXJ5LXJvb20uaHRtbCDQsiDQsdC70L7QutC1IFwi0JvQuNGC0LXRgNCw0YLRg9GA0LBcIlxuXG4gICQoXCIjbGl0ZXJhcnktY3J1bWJzLW9uZVwiKS5vbihcImlucHV0IHN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBhamF4UmVxdWVzdChcImxpdGVyYXJ5LWNydW1icy1vbmVcIiwgXCJ0ZXN0LnBocFwiKTtcbiAgfSk7IC8vIC/QpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGxpdGVyYXJ5LXJvb20uaHRtbCDQsiDQsdC70L7QutC1IFwi0JvQuNGC0LXRgNCw0YLRg9GA0LBcIlxuICAvLyDQpNC40LvRjNGC0YAg0L3QsCDRgdGC0YDQsNC90LjRhtC1IGxpdGVyYXJ5LXJvb20uaHRtbCDQsiDQsdC70L7QutC1IFwi0JjRgdC/0L7Qu9C90LjRgtC10LvQuC3Rh9GC0LXRhtGLXCJcblxuICAkKFwiI2xpdGVyYXJ5LWNydW1icy10d29cIikub24oXCJpbnB1dCBzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYWpheFJlcXVlc3QoXCJsaXRlcmFyeS1jcnVtYnMtdHdvXCIsIFwidGVzdC5waHBcIik7XG4gIH0pOyAvLyAv0KTQuNC70YzRgtGAINC90LAg0YHRgtGA0LDQvdC40YbQtSBsaXRlcmFyeS1yb29tLmh0bWwg0LIg0LHQu9C+0LrQtSBcItCY0YHQv9C+0LvQvdC40YLQtdC70Lgt0YfRgtC10YbRi1wiXG5cbiAgJChcIi5jcnVtYnNfX2NydW1iXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuZmlsdGVyLXRvcCcpLmxlbmd0aCAmJiAoJCh0aGlzKS50b2dnbGVDbGFzcygnY3J1bWJzX19jcnVtYi0tYWN0aXZlJyksIGZpbHRlckNvbnRlbnRCbG9jaygpKTtcbiAgICAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic19fY3J1bWJcIikudG9nZ2xlQ2xhc3MoXCJjcnVtYnNfX2NydW1iLS1hY3RpdmVcIik7XG4gICAgJChlLnRhcmdldCkucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jcnVtYi0tYWN0aXZlXCIpLmxlbmd0aCA9PT0gMCA/ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuY3J1bWJzXCIpLmNoaWxkcmVuKFwiLmNydW1ic19fY2xlYXJcIikucmVtb3ZlQ2xhc3MoXCJjcnVtYnNfX2NsZWFyLS1hY3RpdmVcIikgOiAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmNydW1ic1wiKS5jaGlsZHJlbihcIi5jcnVtYnNfX2NsZWFyXCIpLmFkZENsYXNzKFwiY3J1bWJzX19jbGVhci0tYWN0aXZlXCIpO1xuICB9KTtcbiAgJChcIi5jcnVtYnNfX2NsZWFyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50cyhcIi5jcnVtYnNcIikuY2hpbGRyZW4oXCIuY3J1bWJzX19jcnVtYlwiKS5yZW1vdmVDbGFzcyhcImNydW1ic19fY3J1bWItLWFjdGl2ZVwiKTtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiY3J1bWJzX19jbGVhci0tYWN0aXZlXCIpO1xuICAgIGZpbHRlckNvbnRlbnRCbG9jaygpO1xuICB9KTtcbiAgJChcIiNtZW51LWVsZW1lbnQtbW9yZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLm1lbnVfX2Rlc2t0b3AtbW9yZS1saXN0XCIpLnNsaWRlVG9nZ2xlKDQwMCk7XG4gICAgJChcIiNtZW51LWVsZW1lbnQtbW9yZVwiKS50b2dnbGVDbGFzcyhcIm1lbnVfX2Rlc2t0b3AtZWxlbWVudC0tb3BlblwiKTtcbiAgfSk7XG4gICQoXCIuZmlsdGVyc19fc3dpdGNoLXRleHRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcyhcImZpbHRlcnNfX3N3aXRjaC0tYWN0aXZlXCIpO1xuICAgICQodGhpcykubmV4dCgpLnNsaWRlVG9nZ2xlKDQwMCk7XG4gIH0pO1xuICAkKFwiLmZpbHRlcnNfX3N3aXRjaC1tb2RhbC1sYWJlbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEkKHRoaXMpLnBhcmVudHMoJy5jaW5lbWEtaGFsbCcpLmxlbmd0aCkge1xuICAgICAgaWYgKCEkKGUudGFyZ2V0KS5oYXNDbGFzcyhcImZpbHRlcnNfX3N3aXRjaC1tb2RhbC1sYWJlbC0tY3VzdG9tXCIpKSB7XG4gICAgICAgICQodGhpcykucGFyZW50cyhcIi5maWx0ZXJzX19zd2l0Y2hcIikuY2hpbGRyZW4oXCIuZmlsdGVyc19fc3dpdGNoLXRleHRcIikudGV4dCgkKGUudGFyZ2V0KS50ZXh0KCkpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudHMoXCIuZmlsdGVyc19fc3dpdGNoLW1vZGFsXCIpLnRvZ2dsZSgwKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKFwiLmZpbHRlcnNfX3N3aXRjaFwiKS50b2dnbGVDbGFzcyhcImZpbHRlcnNfX3N3aXRjaC0tYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdmaWx0ZXJzX19zd2l0Y2gtbW9kYWwtbGFiZWwtLWFjdGl2ZScpO1xuICAgICAgdmFyIGFtb3VudCA9ICQoJy5maWx0ZXJzX19zd2l0Y2gtbW9kYWwtbGFiZWwtLWFjdGl2ZScpLmxlbmd0aCxcbiAgICAgICAgICBpbnB1dCA9ICQoJy5maWx0ZXJzX19zd2l0Y2gtdGV4dCcpO1xuICAgICAgYW1vdW50ID8gYW1vdW50ID09PSAxID8gaW5wdXQudGV4dChpbnB1dC5kYXRhKCd0ZXh0LW9uZS1jaGVjaycpLnJlcGxhY2UoJyQnLCBhbW91bnQpKSA6IGFtb3VudCA8PSA0ID8gaW5wdXQudGV4dChpbnB1dC5kYXRhKCd0ZXh0LWZvdXItY2hlY2snKS5yZXBsYWNlKCckJywgYW1vdW50KSkgOiBpbnB1dC50ZXh0KGlucHV0LmRhdGEoJ3RleHQtbmluZS1jaGVjaycpLnJlcGxhY2UoJyQnLCBhbW91bnQpKSA6IGlucHV0LnRleHQoaW5wdXQuZGF0YSgndGV4dC1kZWZhdWx0JykpO1xuICAgIH1cbiAgfSk7XG4gICQoXCIuZmlsdGVyX19kYXRlLWVsZW1lbnRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5maWx0ZXJfX2RhdGUtZWxlbWVudFwiKS5yZW1vdmVDbGFzcyhcImZpbHRlcl9fZGF0ZS1lbGVtZW50LS1hY3RpdmVcIik7XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcImZpbHRlcl9fZGF0ZS1lbGVtZW50LS1hY3RpdmVcIik7XG4gIH0pO1xuICAkKFwiLm1lbnVfX2J1cmdlclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLm1lbnVcIikudG9nZ2xlQ2xhc3MoXCJtZW51LS1vcGVuXCIpO1xuICB9KTtcbiAgcGFnZVlPZmZzZXQgPyAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpIDogJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoXCJoZWFkZXItLXNjcm9sbFwiKTtcbiAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBwYWdlWU9mZnNldCA/ICgkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcImhlYWRlci0tc2Nyb2xsXCIpLCAkKFwiLm1lbnVfX2Rlc2t0b3BcIikuYWRkQ2xhc3MoXCJtZW51X19kZXNrdG9wLS1zY3JvbGxcIikpIDogKCQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKFwiaGVhZGVyLS1zY3JvbGxcIiksICQoXCIubWVudV9fZGVza3RvcFwiKS5yZW1vdmVDbGFzcyhcIm1lbnVfX2Rlc2t0b3AtLXNjcm9sbFwiKSk7XG4gIH0pO1xuICAkKFwiLnBvc3Rlci1zbGlkZXJfX3N0b3JpZXNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzdG9yaWVzID0gJChlLnRhcmdldCkucGFyZW50cyhcIi5zdG9yaWVzXCIpO1xuICAgIChzdG9yaWVzLmxlbmd0aCB8fCAkKGUudGFyZ2V0KS5oYXNDbGFzcyhcInN0b3JpZXNcIikpICYmIHRvZ2dsZU1vZGFsKHN0b3JpZXMuaW5kZXgoKSwgc3Rvcmllcy5wYXJlbnRzKCcuY29udGVudCcpLmRhdGEoJ25hbWUnKSk7XG4gIH0pO1xuICAkKFwiLmNvbnRlbnRfX2dhbGxlcnlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzdG9yaWVzID0gJChlLnRhcmdldCkucGFyZW50cyhcIi5jb250ZW50X19nYWxsZXJ5LWl0ZW1cIik7XG4gICAgKHN0b3JpZXMubGVuZ3RoIHx8ICQoZS50YXJnZXQpLmhhc0NsYXNzKFwiY29udGVudF9fZ2FsbGVyeS1pdGVtXCIpKSAmJiB0b2dnbGVNb2RhbChzdG9yaWVzLmluZGV4KCkpO1xuICB9KTtcbiAgJChcIi5tb2RhbF9fY2xvc2VcIikub24oXCJjbGlja1wiLCBjbG9zZU1vZGFsKTtcbiAgJChcIi5tb2RhbC1vdmVybGF5XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoXCJtb2RhbC1vdmVybGF5LS1hY3RpdmVcIikpIGNsb3NlTW9kYWwoKTtcbiAgfSk7XG4gICQoJy5oaWRkZW4tYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCgnLmhpZGRlbi10ZXh0LS1hY3RpdmUnKS5sZW5ndGgpIHtcbiAgICAgICQoJy5oaWRkZW4tdGV4dCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4tdGV4dC0tYWN0aXZlJyk7XG4gICAgICB2YXIgZWwgPSAkKCcuaGlkZGVuLXRleHQnKSxcbiAgICAgICAgICBjdXJIZWlnaHQgPSBlbC5oZWlnaHQoKSxcbiAgICAgICAgICBhdXRvSGVpZ2h0ID0gZWwuY3NzKCdoZWlnaHQnLCAnYXV0bycpLmhlaWdodCgpO1xuICAgICAgZWwuaGVpZ2h0KGN1ckhlaWdodCkuYW5pbWF0ZSh7XG4gICAgICAgIGhlaWdodDogYXV0b0hlaWdodFxuICAgICAgfSwgMjAwKTtcbiAgICAgICQoJy5oaWRkZW4tYnV0dG9uJykudGV4dCgkKCcuaGlkZGVuLWJ1dHRvbicpLmRhdGEoJ3N3aXRjaC10ZXh0LXN0YXJ0JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuaGlkZGVuLXRleHQnKS50b2dnbGVDbGFzcygnaGlkZGVuLXRleHQtLWFjdGl2ZScpO1xuICAgICAgJCgnLmhpZGRlbi10ZXh0JykuY3NzKCdoZWlnaHQnLCAkKCcuaGlkZGVuLXRleHQnKS5kYXRhKCd0ZXh0LWhlaWdodCcpKTtcbiAgICAgICQoJy5oaWRkZW4tYnV0dG9uJykudGV4dCgkKCcuaGlkZGVuLWJ1dHRvbicpLmRhdGEoJ3N3aXRjaC10ZXh0LWVuZCcpKTtcbiAgICB9XG4gIH0pO1xuICAkKCcjYm9hcmQtdGVhbScpLm9uKCdjbGljaycsIHRvZ2dsZUJvYXJkVGFiLmJpbmQoJCgnI2JvYXJkLXRlYW0nKSwgWycuYm9hcmRfX3dvcmsnLCAnLmJvYXJkX19pbmZvcm1hdGlvbiddLCAnLmJvYXJkX190ZWFtJykpO1xuICAkKCcjYm9hcmQtd29yaycpLm9uKCdjbGljaycsIHRvZ2dsZUJvYXJkVGFiLmJpbmQoJCgnI2JvYXJkLXdvcmsnKSwgWycuYm9hcmRfX3RlYW0nLCAnLmJvYXJkX19pbmZvcm1hdGlvbiddLCAnLmJvYXJkX193b3JrJykpO1xuICAkKCcjYm9hcmQtaW5mb3JtYXRpb24nKS5vbignY2xpY2snLCB0b2dnbGVCb2FyZFRhYi5iaW5kKCQoJyNib2FyZC1pbmZvcm1hdGlvbicpLCBbJy5ib2FyZF9fdGVhbScsICcuYm9hcmRfX3dvcmsnXSwgJy5ib2FyZF9faW5mb3JtYXRpb24nKSk7XG4gICQoJy5maWx0ZXItdG9wX190b2dnbGUtdGl0bGUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmZpbHRlci10b3BfX3RvZ2dsZS10aXRsZScpLnJlbW92ZUNsYXNzKCdmaWx0ZXItdG9wX190b2dnbGUtdGl0bGUtLWFjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZpbHRlci10b3BfX3RvZ2dsZS10aXRsZS0tYWN0aXZlJyk7XG4gICAgJCgnLmNvbnRlbnQnKS5mYWRlT3V0KDEwMCk7XG4gICAgJChcIltkYXRhLW5hbWU9XCIuY29uY2F0KCQodGhpcykuZGF0YSgndGFnLW5hbWUnKSwgXCJdXCIpKS5mYWRlSW4oMTAwKTtcbiAgfSk7IC8vIC9ldmVudFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHVuaXF1ZSBmdW5jdGlvblxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUJvYXJkVGFiKHNlbGVjdG9yT2xkQmxvY2tzLCBzZWxlY3Rvck5ld0Jsb2NrKSB7XG4gICAgJCgnLmJvYXJkX19oZWFkZXItdGl0bGUnKS5yZW1vdmVDbGFzcygnYm9hcmRfX2hlYWRlci10aXRsZS0tYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYm9hcmRfX2hlYWRlci10aXRsZS0tYWN0aXZlJyk7XG4gICAgJChzZWxlY3Rvck9sZEJsb2Nrcy5qb2luKCcsICcpKS5mYWRlT3V0KDQwMCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAkKHNlbGVjdG9yTmV3QmxvY2spLmZhZGVJbig0MDApO1xuICAgIH0sIDQwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBmaWx0ZXJDb250ZW50QmxvY2soKSB7XG4gICAgdmFyIGFyckVsZW1lbnRzID0gW107XG4gICAgJCgnLmNvbnRlbnQnKS5mYWRlT3V0KDEwMCk7XG4gICAgJCgnLmNydW1ic19fY3J1bWItLWFjdGl2ZScpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAkKCcuY29udGVudCcpLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgJChlKS5kYXRhKCduYW1lJykgPT09ICQoZWxlbWVudCkuZGF0YSgndGFnLW5hbWUnKSAmJiBhcnJFbGVtZW50cy5wdXNoKGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coYXJyRWxlbWVudHMpO1xuICAgICQoYXJyRWxlbWVudHMpLmxlbmd0aCA/ICQoYXJyRWxlbWVudHMpLmZhZGVJbigxMDApIDogJCgnLmNvbnRlbnQnKS5mYWRlSW4oMTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZU1vZGFsKCkge1xuICAgIHZhciBpbml0TnVtYmVyU2xpZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciBuYW1lTW9kYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIHZhciBzZWxlY3RvclNsaWRlciA9IFwiLm1vZGFsLW92ZXJsYXlcIi5jb25jYXQobmFtZU1vZGFsID8gXCJbZGF0YS1uYW1lPVxcXCJcIi5jb25jYXQobmFtZU1vZGFsLCBcIlxcXCJdXCIpIDogJycpO1xuICAgICQoJy5tb2RhbC1vdmVybGF5JykuZGF0YSgncGFnaW5hdGlvbi10ZXh0JykgJiYgJCgnLm1vZGFsX19zbGlkZS10aXRsZScpLmh0bWwoJCgnLm1vZGFsLW92ZXJsYXknKS5kYXRhKCdwYWdpbmF0aW9uLXRleHQnKS5yZXBsYWNlKC9cXFsuKlxcXSQvLCAnJykgKyAnIDxzcGFuIGNsYXNzPVwibW9kYWxfX3NsaWRlLXRpdGxlLWRhcmtcIj4nICsgJCgnLm1vZGFsLW92ZXJsYXknKS5kYXRhKCdwYWdpbmF0aW9uLXRleHQnKS5yZXBsYWNlKC8uKlxcWy8sICcnKS5yZXBsYWNlKC9cXF0uKi8sICcnKS5yZXBsYWNlKCckJywgXCI8c3BhbiBjbGFzcz1cXFwibW9kYWxfX3NsaWRlLXRpdGxlLWFjdGl2ZVxcXCI+XCIuY29uY2F0KGluaXROdW1iZXJTbGlkZXIgKyAxLCBcIjwvc3Bhbj5cIikpLnJlcGxhY2UoJyYnLCAkKCcubW9kYWxfX3NsaWRlJykubGVuZ3RoKSArICc8L3NwYW4+Jyk7XG4gICAgc2Nyb2xsRW11bGF0aW9uKCk7XG4gICAgJChzZWxlY3RvclNsaWRlcikudG9nZ2xlQ2xhc3MoXCJtb2RhbC1vdmVybGF5LS1hY3RpdmVcIik7XG4gICAgJChzZWxlY3RvclNsaWRlciArICcgLm1vZGFsJykudG9nZ2xlQ2xhc3MoXCJtb2RhbC0tYWN0aXZlXCIpO1xuICAgIHZhciBzd2lwZXJHYWxsZXJ5ID0gbmV3IFN3aXBlcihzZWxlY3RvclNsaWRlciArIFwiIC5tb2RhbF9fY29udGVudFwiLCB7XG4gICAgICBlZmZlY3Q6IFwiY292ZXJmbG93XCIsXG4gICAgICBncmFiQ3Vyc29yOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgICAgaW5pdGlhbFNsaWRlOiBpbml0TnVtYmVyU2xpZGVyLFxuICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBuZXh0RWw6IFwiLnN0b3JpZXMtYXJyb3ctcmlnaHRcIixcbiAgICAgICAgcHJldkVsOiBcIi5zdG9yaWVzLWFycm93LWxlZnRcIlxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShzd2lwZXIpIHtcbiAgICAgICAgICBwbGF5VmlkZW9TdG9yaWVzKHN3aXBlcik7XG4gICAgICAgICAgJCgnLm1vZGFsX19zbGlkZS10aXRsZS1hY3RpdmUnKS5sZW5ndGggJiYgJCgnLm1vZGFsX19zbGlkZS10aXRsZS1hY3RpdmUnKS50ZXh0KHN3aXBlci5hY3RpdmVJbmRleCArIDEpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KHN3aXBlcikge1xuICAgICAgICAgIHBsYXlWaWRlb1N0b3JpZXMoc3dpcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheVZpZGVvU3RvcmllcyhfcmVmKSB7XG4gICAgdmFyIHNsaWRlcyA9IF9yZWYuc2xpZGVzLFxuICAgICAgICBhY3RpdmVJbmRleCA9IF9yZWYuYWN0aXZlSW5kZXgsXG4gICAgICAgIHByZXZTbGlkZXMgPSBfcmVmLnByZXZTbGlkZXM7XG4gICAgdmFyIHZpZGVvU3RvcmllcyA9ICQoc2xpZGVzW2FjdGl2ZUluZGV4XSkuY2hpbGRyZW4oXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLFxuICAgICAgICBwcmV2VmlkZW9TdG9yaWVzID0gJChzbGlkZXNbYWN0aXZlSW5kZXggLSAxXSkuY2hpbGRyZW4oXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpLFxuICAgICAgICBuZXh0VmlkZW9TdG9yaWVzID0gJChzbGlkZXNbYWN0aXZlSW5kZXggKyAxXSkuY2hpbGRyZW4oXCIubW9kYWxfX3NsaWRlLXZpZGVvXCIpO1xuICAgIHByZXZWaWRlb1N0b3JpZXMubGVuZ3RoICYmIHByZXZWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiLCBwcmV2VmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikpO1xuICAgIG5leHRWaWRlb1N0b3JpZXMubGVuZ3RoICYmIG5leHRWaWRlb1N0b3JpZXMuYXR0cihcInNyY1wiLCBuZXh0VmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikpO1xuICAgIHZpZGVvU3Rvcmllcy5sZW5ndGggJiYgdmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIiwgdmlkZW9TdG9yaWVzLmF0dHIoXCJzcmNcIikucmVwbGFjZSgvXFw/YXV0b3BsYXk9MS9naSwgXCJcIikgKyBcIj9hdXRvcGxheT0xXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgICBzY3JvbGxFbXVsYXRpb24oKTtcbiAgICAkKFwiLm1vZGFsX19zbGlkZS12aWRlb1wiKS5sZW5ndGggJiYgJChcIi5tb2RhbF9fc2xpZGUtdmlkZW9cIikuYXR0cihcInNyY1wiLCAkKFwiLm1vZGFsX19zbGlkZS12aWRlb1wiKS5hdHRyKFwic3JjXCIpLnJlcGxhY2UoL1xcP2F1dG9wbGF5PTEvZ2ksIFwiXCIpKTtcbiAgICAkKFwiLm1vZGFsLW92ZXJsYXlcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbC1vdmVybGF5LS1hY3RpdmVcIik7XG4gICAgJChcIi5tb2RhbFwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsLS1hY3RpdmVcIik7XG4gIH0gLy8gL3VuaXF1ZSBmdW5jdGlvblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFBhZ2UgbG9hZFxuXG5cbiAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoXCIucG9zdGVyLXNsaWRlcl9fc2xpZGVyXCIsIHtcbiAgICBzcGFjZUJldHdlZW46IDIwLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIiNmaXJzdC1zbGlkZXItYXJyb3ctcmlnaHRcIixcbiAgICAgIHByZXZFbDogXCIjZmlyc3Qtc2xpZGVyLWFycm93LWxlZnRcIlxuICAgIH0sXG4gICAgb246IHtcbiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZShfcmVmMikge1xuICAgICAgICB2YXIgc2xpZGVzID0gX3JlZjIuc2xpZGVzLFxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBfcmVmMi5hY3RpdmVJbmRleDtcbiAgICAgICAgc2xpZGVzLmVhY2goZnVuY3Rpb24gKHNsaWRlLCBpbmRleCkge1xuICAgICAgICAgIGluZGV4IDwgYWN0aXZlSW5kZXggPyAkKHNsaWRlKS5hZGRDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIikgOiAkKHNsaWRlKS5yZW1vdmVDbGFzcyhcInN3aXBlci1zbGlkZS1wcmV2LXByZXZcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHJlYWNoRW5kOiBmdW5jdGlvbiByZWFjaEVuZChfcmVmMykge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjMuJGVsO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fc2hhZG93XCIpLmFkZENsYXNzKFwicG9zdGVyLXNsaWRlcl9fc2hhZG93LS1oaWRkZW5cIik7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19kYXJrXCIpLmFkZENsYXNzKFwicG9zdGVyLXNsaWRlcl9fZGFyay0taGlkZGVuXCIpO1xuICAgICAgfSxcbiAgICAgIGZyb21FZGdlOiBmdW5jdGlvbiBmcm9tRWRnZShfcmVmNCkge1xuICAgICAgICB2YXIgJGVsID0gX3JlZjQuJGVsO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fc2hhZG93XCIpLnJlbW92ZUNsYXNzKFwicG9zdGVyLXNsaWRlcl9fc2hhZG93LS1oaWRkZW5cIik7XG4gICAgICAgICRlbC5jaGlsZHJlbihcIi5wb3N0ZXItc2xpZGVyX19kYXJrXCIpLnJlbW92ZUNsYXNzKFwicG9zdGVyLXNsaWRlcl9fZGFyay0taGlkZGVuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHZhciBzd2lwZXJTdG9yaWVzID0gbmV3IFN3aXBlcihcIi5wb3N0ZXItc2xpZGVyX19zdG9yaWVzXCIsIHtcbiAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIiNmaXJzdC1zbGlkZXItYXJyb3ctcmlnaHRcIixcbiAgICAgIHByZXZFbDogXCIjZmlyc3Qtc2xpZGVyLWFycm93LWxlZnRcIlxuICAgIH0sXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgIDkwMToge1xuICAgICAgICBzcGFjZUJldHdlZW46IDI1XG4gICAgICB9LFxuICAgICAgNTAxOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjBcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uOiB7XG4gICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2UoX3JlZjUpIHtcbiAgICAgICAgdmFyIHNsaWRlcyA9IF9yZWY1LnNsaWRlcyxcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gX3JlZjUuYWN0aXZlSW5kZXg7XG4gICAgICAgIHNsaWRlcy5lYWNoKGZ1bmN0aW9uIChzbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgICBpbmRleCA8IGFjdGl2ZUluZGV4ID8gJChzbGlkZSkuYWRkQ2xhc3MoXCJzd2lwZXItc2xpZGUtcHJldi1wcmV2XCIpIDogJChzbGlkZSkucmVtb3ZlQ2xhc3MoXCJzd2lwZXItc2xpZGUtcHJldi1wcmV2XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZWFjaEVuZDogZnVuY3Rpb24gcmVhY2hFbmQoX3JlZjYpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWY2LiRlbDtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX3NoYWRvd1wiKS5hZGRDbGFzcyhcInBvc3Rlci1zbGlkZXJfX3NoYWRvdy0taGlkZGVuXCIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fZGFya1wiKS5hZGRDbGFzcyhcInBvc3Rlci1zbGlkZXJfX2RhcmstLWhpZGRlblwiKTtcbiAgICAgIH0sXG4gICAgICBmcm9tRWRnZTogZnVuY3Rpb24gZnJvbUVkZ2UoX3JlZjcpIHtcbiAgICAgICAgdmFyICRlbCA9IF9yZWY3LiRlbDtcbiAgICAgICAgJGVsLmNoaWxkcmVuKFwiLnBvc3Rlci1zbGlkZXJfX3NoYWRvd1wiKS5yZW1vdmVDbGFzcyhcInBvc3Rlci1zbGlkZXJfX3NoYWRvdy0taGlkZGVuXCIpO1xuICAgICAgICAkZWwuY2hpbGRyZW4oXCIucG9zdGVyLXNsaWRlcl9fZGFya1wiKS5yZW1vdmVDbGFzcyhcInBvc3Rlci1zbGlkZXJfX2RhcmstLWhpZGRlblwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAkKHdpbmRvdykud2lkdGgoKSA8PSAxMjk5ICYmICgkKFwiLm1lbnVfX2Rlc2t0b3AtbW9yZS1saXN0XCIpLmNoaWxkcmVuKFwiLm1lbnVfX2Rlc2t0b3AtZWxlbWVudFwiKS5hcHBlbmRUbygkKFwiLm1lbnVfX2Rlc2t0b3BcIikpLCAkKFwiI21lbnUtZWxlbWVudC1tb3JlXCIpLmFkZENsYXNzKFwiZGVsZXRlXCIpKTtcbiAgYmFndWV0dGVCb3gucnVuKFwiLmdhbGxlcnlcIik7IC8vIGNvbnNvbGUubG9nKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50X19nYWxsZXJ5JykpXG5cbiAgdmFyIHRlc3QgPSBCcmlja3Moe1xuICAgIGNvbnRhaW5lcjogJy5jb250ZW50X19nYWxsZXJ5JyxcbiAgICBwYWNrZWQ6ICdkYXRhLWdyaWQnLFxuICAgIHNpemVzOiBbe1xuICAgICAgY29sdW1uczogMSxcbiAgICAgIGd1dHRlcjogMjBcbiAgICB9LCB7XG4gICAgICBtcTogJzUwMHB4JyxcbiAgICAgIGNvbHVtbnM6IDIsXG4gICAgICBndXR0ZXI6IDEwXG4gICAgfSwge1xuICAgICAgbXE6ICc3MDBweCcsXG4gICAgICBjb2x1bW5zOiAzLFxuICAgICAgZ3V0dGVyOiAxMFxuICAgIH0sIHtcbiAgICAgIG1xOiAnOTAwcHgnLFxuICAgICAgY29sdW1uczogNCxcbiAgICAgIGd1dHRlcjogMTBcbiAgICB9LCB7XG4gICAgICBtcTogJzEyNzlweCcsXG4gICAgICBjb2x1bW5zOiA0LFxuICAgICAgZ3V0dGVyOiAyMFxuICAgIH1dXG4gIH0pO1xuICAkKHdpbmRvdykud2lkdGgoKSA+IDUwMCAmJiB0ZXN0LnBhY2soKTsgLy8gaW5zdGFuY2UucGFjaygpXG4gIC8vIC9QYWdlIGxvYWRcbn0pOyJdfQ==
